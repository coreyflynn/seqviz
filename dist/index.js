/*!
 * seqviz - seqviz - 3.0.26 
 * provided and maintained by Lattice Automation (https://latticeautomation.com/) 
 * LICENSE MIT
 */
!function(t,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define("seqviz",[],c):"object"==typeof exports?exports.seqviz=c():t.seqviz=c()}(window,(function(){return a={},t.m=c=[function(t,c){t.exports=require("react")},function(t,c,a){"use strict";a.d(c,"b",(function(){return r})),a.d(c,"c",(function(){return n})),a.d(c,"d",(function(){return g})),a.d(c,"a",(function(){return u})),a.d(c,"e",(function(){return s}));var e={a:"t",t:"a",c:"g",g:"c",A:"T",T:"A",C:"G",G:"C",r:"y",R:"Y",y:"r",Y:"R",S:"S",s:"s",W:"W",w:"w",d:"h",D:"H",h:"d",H:"D",k:"m",K:"M",m:"k",M:"K",v:"b",V:"B",b:"v",B:"V",N:"N",n:"n",X:"X",x:"x",U:"A",u:"a"},r=function(t){if(!t)return{seq:"",compSeq:""};for(var c="",a="",r=0,n=t.length;r<n;r+=1)e[t[r]]&&(c+=t[r],a+=e[t[r]]);return{seq:c,compSeq:a}},n=function(t){var c=Date.now();return t.forEach((function(t){Date.parse(t)&&(c=Date.parse(t))})),c},g=function(t){if(Array.isArray(t))return t[0]},o=new Set(["FWD","FORWARD","FOR","1",1]),i=new Set(["REV","REVERSE","-1",-1]),u=function(t){return t?o.has(t)?1:i.has(t)?-1:0:0},s=function(){return{name:"",date:(new Date).getTime(),seq:"",compSeq:"",tags:[],annotations:[],primers:[],cutSites:[],note:""}}},function(t,c,a){"use strict";a.d(c,"g",(function(){return s})),a.d(c,"f",(function(){return f})),a.d(c,"k",(function(){return p})),a.d(c,"e",(function(){return h})),a.d(c,"i",(function(){return d})),a.d(c,"b",(function(){return y})),a.d(c,"c",(function(){return b})),a.d(c,"j",(function(){return m})),a.d(c,"a",(function(){return v})),a.d(c,"h",(function(){return w})),a.d(c,"d",(function(){return O}));var e=a(5),r=a(1),n=a(4);function g(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function o(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?g(Object(a),!0).forEach((function(c){i(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function i(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function u(t){for(var c=t.toUpperCase(),a=c.length,e="",r=0;r<a;r+=3,1)r+2<a&&(e+=l[c[r]+c[r+1]+c[r+2]]||"?");return e}var s={a:"a",c:"c",t:"t",g:"g",u:"u"},f={y:{c:"c",t:"t"},r:{a:"a",g:"g"},w:{a:"a",t:"t"},s:{g:"g",c:"c"},k:{t:"t",g:"g"},m:{c:"c",a:"a"},d:{a:"a",g:"g",t:"t"},v:{a:"a",c:"c",g:"g"},h:{a:"a",c:"c",t:"t"},b:{c:"c",g:"g",t:"t"},x:{a:"a",c:"c",g:"g",t:"t"},n:{a:"a",c:"c",g:"g",t:"t"}},l={AAA:"K",AAT:"N",AAG:"K",AAC:"N",ATA:"I",ATT:"I",ATG:"M",ATC:"I",AGA:"R",AGT:"S",AGG:"R",AGC:"S",ACA:"T",ACT:"T",ACG:"T",ACC:"T",TAA:"*",TAT:"Y",TAG:"*",TAC:"Y",TTA:"L",TTT:"F",TTG:"L",TTC:"F",TGA:"*",TGT:"C",TGG:"W",TGC:"C",TCA:"S",TCT:"S",TCG:"S",TCC:"S",GAA:"E",GAT:"D",GAG:"E",GAC:"D",GTA:"V",GTT:"V",GTG:"V",GTC:"V",GGA:"G",GGT:"G",GGG:"G",GGC:"G",GCA:"A",GCT:"A",GCG:"A",GCC:"A",CAA:"Q",CAT:"H",CAG:"Q",CAC:"H",CTA:"L",CTT:"L",CTG:"L",CTC:"L",CGA:"R",CGT:"R",CGG:"R",CGC:"R",CCA:"P",CCT:"P",CCG:"P",CCC:"P"},p=function(t){return t.toLowerCase().split("").map((function(t){return f[t]?"(".concat(Object.keys(f[t]).join("|"),")"):t})).join("")},h=function(t,c){return t.split("").map((function(t,a){return t!==c.split("")[a]?a:-1})).filter((function(t){return-1!==t}))},d=function(t){var c=t[0],a=t[0]-1,e=[];return t.forEach((function(r,n){a+1<r&&(e.push([c,t[n-1]]),a=(c=r)-1),r===t[t.length-1]&&e.push([c,r]),a+=1})),e},y=function(t){if(!t)return 0;var c=(t.match(/[CG]/gi)||[]).length/t.length*100;return parseFloat(c.toFixed(2))},b=function(t,c){var a=1<arguments.length&&void 0!==c?c:t,e=t.length,r=(t.match(/[CG]/gi)||[]).length,n=(t.match(/[AT]/gi)||[]).length,g=h(t,a).length,o=y(t);return e<14?2*n+4*r:24<e&&e<46&&40<o&&t.slice(0,1)in{G:"G",C:"C"}?100/e*(.815*e+.41*r-g-6.75):Math.round(64.9+41*(r-16.4)/e)},m=function(t){return t.split("").reverse().join("")},v=function(t){var c=0<arguments.length&&void 0!==t?t:-1;return{id:Object(n.a)(),color:0<=c?Object(e.e)(c):Object(e.d)(),name:"",type:"",start:0,end:0,direction:"NONE"}},w=function(){return{overhang:"",name:"",id:Object(n.a)(),complementId:"",gc:0,tm:0,any:0,dimer:0,hairpin:0,stability:0,penalty:0,vector:"",sequence:"",strict:!1}},O=function(t,c){var a=c+c;return t.map((function(t){var e=t.start,n=t.direction,g=t.end;g<e&&(g+=c.length);var i=1===n?a.substring(e,g):Object(r.b)(a.substring(e,g)).compSeq.split("").reverse().join(""),s=1===n?u(i):u(i).split("").reverse().join(""),f=1===n?e:g-3*s.length,l=1===n?(e+3*s.length)%c.length:g%c.length;return 0===l&&-1===n&&(l+=c.length),o(o({},t),{},{start:f,end:l,AAseq:s})}))}},function(t,c){t.exports=require("prop-types")},function(t,c,a){"use strict";c.a=function(){var t,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:7,a=(t=Math.pow(10,c+1))/10,e=Math.floor(Math.random()*(t-a+1))+a;return String(e).substring(1)}},function(t,c,a){"use strict";function e(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||function(t,c){if(t){if("string"==typeof t)return r(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}a.d(c,"a",(function(){return n})),a.d(c,"b",(function(){return g})),a.d(c,"d",(function(){return o})),a.d(c,"e",(function(){return i})),a.d(c,"c",(function(){return u})),a.d(c,"f",(function(){return f}));var n=["#9DEAED","#8FDE8C","#CFF283","#8CDEBD","#F0A3CE","#F7C672","#F07F7F","#FAA887","#F099F7","#C59CFF","#6B81FF","#85A6FF"],g={"#9DEAED":"#5EB5B8","#8FDE8C":"#5CA35A","#CFF283":"#8DB041","#8CDEBD":"#4CA17F","#F0A3CE":"#BD6295","#F7C672":"#BD872B","#F07F7F":"#AD4040","#FAA887":"#B36446","#F099F7":"#AB63B0","#C59CFF":"#8A60C4","#6B81FF":"#2E3B85","#85A6FF":"#4C66AD"},o=function(t){var c=0<arguments.length&&void 0!==t?t:[],a=c.length?c:n;return a[Math.floor(Math.random()*a.length)]},i=function(t){return n[t%n.length]},u=function(t){return g[n[t%n.length]]},s={},f=function(t){if(s[t])return s[t];var c=l(-.5,t);return s[t]=c},l=function(t,c,a,r){var n,g,o,i,u,s,f,l=parseInt,p=Math.round,h="string"==typeof a;if("number"!=typeof t||t<-1||1<t||"string"!=typeof c||"r"!==c[0]&&"#"!==c[0]||a&&!h)return null;function d(t){var c=t.length,a={};if(9<c){var r=e(t=t.split(","),4);if(n=r[0],g=r[1],o=r[2],h=r[3],(c=t.length)<3||4<c)return null;a.r=l("a"===n[3]?n.slice(5):n.slice(4)),a.g=l(g),a.b=l(o),a.a=h?parseFloat(h):-1}else{if(8===c||6===c||c<4)return null;c<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(4<c?t[4]+t[4]:"")),t=l(t.slice(1),16),9===c||5===c?(a.r=t>>24&255,a.g=t>>16&255,a.b=t>>8&255,a.a=p((255&t)/.255)/1e3):(a.r=t>>16,a.g=t>>8&255,a.b=255&t,a.a=-1)}return a}return f=9<c.length,f=h?9<a.length||"c"===a&&!f:f,u=d(c),i=t<0,s=a&&"c"!==a?d(a):i?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},i=1-(t=i?-1*t:t),u&&s?(o=r?(n=p(i*u.r+t*s.r),g=p(i*u.g+t*s.g),p(i*u.b+t*s.b)):(n=p(Math.pow(i*Math.pow(u.r,2)+t*Math.pow(s.r,2),.5)),g=p(Math.pow(i*Math.pow(u.g,2)+t*Math.pow(s.g,2),.5)),p(Math.pow(i*Math.pow(u.b,2)+t*Math.pow(s.b,2),.5))),h=u.a,s=s.a,h=(u=0<=h||0<=s)?h<0?s:s<0?h:h*i+s*t:0,f?"rgb"+(u?"a(":"(")+n+","+g+","+o+(u?","+p(1e3*h)/1e3:"")+")":"#"+(4294967296+16777216*n+65536*g+256*o+(u?p(255*h):0)).toString(16).slice(1,u?void 0:-2)):null}},function(t,c){t.exports=require("xml2js")},function(t,c){t.exports=require("react-dom")},function(t,c){t.exports=require("node-fetch")},function(t,c){t.exports=require("react-dom/server")},function(t,c,a){(function(t){function a(t,c){for(var a=0,e=t.length-1;0<=e;e--){var r=t[e];"."===r?t.splice(e,1):".."===r?(t.splice(e,1),a++):a&&(t.splice(e,1),a--)}if(c)for(;a--;)t.unshift("..");return t}function e(t,c){if(t.filter)return t.filter(c);for(var a=[],e=0;e<t.length;e++)c(t[e],e,t)&&a.push(t[e]);return a}c.resolve=function(){for(var c="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){var g=0<=n?arguments[n]:t.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,r="/"===g.charAt(0))}return(r?"/":"")+(c=a(e(c.split("/"),(function(t){return!!t})),!r).join("/"))||"."},c.normalize=function(t){var n=c.isAbsolute(t),g="/"===r(t,-1);return(t=a(e(t.split("/"),(function(t){return!!t})),!n).join("/"))||n||(t="."),t&&g&&(t+="/"),(n?"/":"")+t},c.isAbsolute=function(t){return"/"===t.charAt(0)},c.join=function(){var t=Array.prototype.slice.call(arguments,0);return c.normalize(e(t,(function(t,c){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},c.relative=function(t,a){function e(t){for(var c=0;c<t.length&&""===t[c];c++);for(var a=t.length-1;0<=a&&""===t[a];a--);return a<c?[]:t.slice(c,a-c+1)}t=c.resolve(t).substr(1),a=c.resolve(a).substr(1);for(var r=e(t.split("/")),n=e(a.split("/")),g=Math.min(r.length,n.length),o=g,i=0;i<g;i++)if(r[i]!==n[i]){o=i;break}var u=[];for(i=o;i<r.length;i++)u.push("..");return(u=u.concat(n.slice(o))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var c=t.charCodeAt(0),a=47===c,e=-1,r=!0,n=t.length-1;1<=n;--n)if(47===(c=t.charCodeAt(n))){if(!r){e=n;break}}else r=!1;return-1===e?a?"/":".":a&&1===e?"/":t.slice(0,e)},c.basename=function(t,c){var a=function(t){"string"!=typeof t&&(t+="");var c,a=0,e=-1,r=!0;for(c=t.length-1;0<=c;--c)if(47===t.charCodeAt(c)){if(!r){a=c+1;break}}else-1===e&&(r=!1,e=c+1);return-1===e?"":t.slice(a,e)}(t);return c&&a.substr(-1*c.length)===c&&(a=a.substr(0,a.length-c.length)),a},c.extname=function(t){"string"!=typeof t&&(t+="");for(var c=-1,a=0,e=-1,r=!0,n=0,g=t.length-1;0<=g;--g){var o=t.charCodeAt(g);if(47===o){if(r)continue;a=g+1;break}-1===e&&(r=!1,e=g+1),46===o?-1===c?c=g:1!==n&&(n=1):-1!==c&&(n=-1)}return-1===c||-1===e||0===n||1===n&&c===e-1&&c===a+1?"":t.slice(c,e)};var r="b"==="ab".substr(-1)?function(t,c,a){return t.substr(c,a)}:function(t,c,a){return c<0&&(c=t.length+c),t.substr(c,a)}}).call(this,a(15))},function(t,c,a){"use strict";(function(t){var e=a(12),r=a(13),n=a.n(r),g=a(6),o=a.n(g),i=a(1),u=a(2);function s(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function f(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?s(Object(a),!0).forEach((function(c){l(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function l(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function p(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||function(t,c){if(t){if("string"==typeof t)return h(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function d(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function y(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){d(n,e,r,g,o,"next",t)}function o(t){d(n,e,r,g,o,"throw",t)}g(void 0)}))}}c.a=function(){var c=y(regeneratorRuntime.mark((function c(a,r){var g,o,s,l,h,d,O,N,C,A,S,j,P,x,E,T;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return g=r.fileName,o=void 0===g?"":g,s=0,l=function(c,r){var n=t.from(a.slice(s,c+s));return s+=c,r?new e.StringDecoder(r).write(n):n},h=function(){var t=y(regeneratorRuntime.mark((function t(c,a){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l(c),t.next=3,n.a.unpack(">".concat(a),e);case 3:if(void 0===(r=t.sent))return t.abrupt("return",void 0);t.next=6;break;case 6:return t.abrupt("return",r[0]);case 7:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}(),l(1),c.next=7,h(4,"I");case 7:if(d=c.sent,O=l(8,"ascii"),14!==d||"SnapGene"!==O)throw new Error("wrong format for a SnapGene file");c.next=11;break;case 11:return N={},c.next=14,h(2,"H");case 14:return N.isDNA=c.sent,c.next=17,h(2,"H");case 17:return N.exportVersion=c.sent,c.next=20,h(2,"H");case 20:N.importVersion=c.sent;case 21:if(s<=a.byteLength)return C=l(1),c.next=25,h(4,"I");c.next=55;break;case 25:if(A=c.sent,0===(S=b(C)))return c.next=30,h(1,"b");c.next=40;break;case 30:if(j=c.sent,P=m(j),N.circular=v(P),(x=A-1)<0)throw new Error("error parsing sequence data");c.next=36;break;case 36:N.seq=l(x,"ascii"),N.compSeq=Object(i.b)(N.seq).compSeq,c.next=53;break;case 40:if(6===S)return E=l(A,"utf8"),c.next=44,w(E);c.next=48;break;case 44:T=c.sent,N.notes=T?T.description:"",c.next=53;break;case 48:if(10===S)return c.delegateYield(regeneratorRuntime.mark((function t(){var c,a,e,r,n,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={undefined:"NONE",0:"NONE",1:1,2:-1,3:"BIDIRECTIONAL"},a=l(A,"utf8"),t.next=4,w(a);case 4:e=t.sent,r=e.Features,n=(r=void 0===r?{}:r).Feature,g=void 0===n?[]:n,N.annotations=[],g.forEach((function(t){var a=t.$,e=t.Segment,r=void 0===e?[]:e,n=0,g=0;r&&r.forEach((function(t){var c=t.$;if(!c)throw new Error("Invalid feature definition");var a=p(c.range.split("-"),2),e=a[0],r=a[1];n=0===n?e:Math.min(n,e),g=Math.max(g,r)}));var o=a.directionality;N.annotations.push(f(f({},Object(u.a)()),{},{name:a.name,type:a.type,direction:c[o],start:n-1,end:g-1}))}));case 10:case"end":return t.stop()}}),t)}))(),"t0",50);c.next=52;break;case 50:c.next=53;break;case 52:l(A);case 53:c.next=21;break;case 55:return c.abrupt("return",[f(f(f({},Object(i.e)()),N),{},{name:o.replace(".dna","")})]);case 56:case"end":return c.stop()}}),c)})));return function(t,a){return c.apply(this,arguments)}}();var b=function(t){return t.toString().charCodeAt(0)},m=function(t){return(t>>>0).toString(2)},v=function(t){return 1===Number(t.toString().split("").pop())},w=function(t){return new Promise((function(c,a){o.a.parseString(t,(function(t,e){t&&a(t),c(e)}))}))}}).call(this,a(16).Buffer)},function(t,c){t.exports=require("string_decoder")},function(t,c){t.exports=require("bufferpack")},function(t,c){t.exports=require("react-sizeme")},function(t,c){var a,e,r=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function o(t){if(a===setTimeout)return setTimeout(t,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(c){try{return a.call(null,t,0)}catch(c){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(t){a=n}try{e="function"==typeof clearTimeout?clearTimeout:g}catch(t){e=g}}();var i,u=[],s=!1,f=-1;function l(){s&&i&&(s=!1,i.length?u=i.concat(u):f=-1,u.length&&p())}function p(){if(!s){var t=o(l);s=!0;for(var c=u.length;c;){for(i=u,u=[];++f<c;)i&&i[f].run();f=-1,c=u.length}i=null,s=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===g||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(c){try{return e.call(null,t)}catch(c){return e.call(this,t)}}}(t)}}function h(t,c){this.fun=t,this.array=c}function d(){}r.nextTick=function(t){var c=new Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)c[a-1]=arguments[a];u.push(new h(t,c)),1!==u.length||s||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,c,a){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var e=a(18),r=a(19),n=a(20);function g(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,c){if(g()<c)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(c)).__proto__=i.prototype:(null===t&&(t=new i(c)),t.length=c),t}function i(t,c,a){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(t,c,a);if("number"!=typeof t)return u(this,t,c,a);if("string"==typeof c)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}function u(t,c,a,e){if("number"==typeof c)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer?function(t,c,a,e){if(c.byteLength,a<0||c.byteLength<a)throw new RangeError("'offset' is out of bounds");if(c.byteLength<a+(e||0))throw new RangeError("'length' is out of bounds");return c=void 0===a&&void 0===e?new Uint8Array(c):void 0===e?new Uint8Array(c,a):new Uint8Array(c,a,e),i.TYPED_ARRAY_SUPPORT?(t=c).__proto__=i.prototype:t=l(t,c),t}(t,c,a,e):"string"==typeof c?function(t,c,a){if("string"==typeof a&&""!==a||(a="utf8"),!i.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var e=0|h(c,a),r=(t=o(t,e)).write(c,a);return r!==e&&(t=t.slice(0,r)),t}(t,c,a):function(t,c){if(i.isBuffer(c)){var a=0|p(c.length);return 0===(t=o(t,a)).length||c.copy(t,0,0,a),t}if(c){if("undefined"!=typeof ArrayBuffer&&c.buffer instanceof ArrayBuffer||"length"in c)return"number"!=typeof c.length||function(t){return t!=t}(c.length)?o(t,0):l(t,c);if("Buffer"===c.type&&n(c.data))return l(t,c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,c)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,c){if(s(c),t=o(t,c<0?0:0|p(c)),!i.TYPED_ARRAY_SUPPORT)for(var a=0;a<c;++a)t[a]=0;return t}function l(t,c){var a=c.length<0?0:0|p(c.length);t=o(t,a);for(var e=0;e<a;e+=1)t[e]=255&c[e];return t}function p(t){if(t>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|t}function h(t,c){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var a=t.length;if(0===a)return 0;for(var e=!1;;)switch(c){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return D(t).length;default:if(e)return B(t).length;c=(""+c).toLowerCase(),e=!0}}function d(t,c,a){var e=t[c];t[c]=t[a],t[a]=e}function y(t,c,a,e,r){if(0===t.length)return-1;if("string"==typeof a?(e=a,a=0):2147483647<a?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=r?0:t.length-1),a<0&&(a=t.length+a),a>=t.length){if(r)return-1;a=t.length-1}else if(a<0){if(!r)return-1;a=0}if("string"==typeof c&&(c=i.from(c,e)),i.isBuffer(c))return 0===c.length?-1:b(t,c,a,e,r);if("number"==typeof c)return c&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,c,a):Uint8Array.prototype.lastIndexOf.call(t,c,a):b(t,[c],a,e,r);throw new TypeError("val must be string, number or Buffer")}function b(t,c,a,e,r){var n,g=1,o=t.length,i=c.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(t.length<2||c.length<2)return-1;o/=g=2,i/=2,a/=2}function u(t,c){return 1===g?t[c]:t.readUInt16BE(c*g)}if(r){var s=-1;for(n=a;n<o;n++)if(u(t,n)===u(c,-1===s?0:n-s)){if(-1===s&&(s=n),n-s+1===i)return s*g}else-1!==s&&(n-=n-s),s=-1}else for(o<a+i&&(a=o-i),n=a;0<=n;n--){for(var f=!0,l=0;l<i;l++)if(u(t,n+l)!==u(c,l)){f=!1;break}if(f)return n}return-1}function m(t,c,a,e){a=Number(a)||0;var r=t.length-a;e?r<(e=Number(e))&&(e=r):e=r;var n=c.length;if(n%2!=0)throw new TypeError("Invalid hex string");n/2<e&&(e=n/2);for(var g=0;g<e;++g){var o=parseInt(c.substr(2*g,2),16);if(isNaN(o))return g;t[a+g]=o}return g}function v(t,c,a,e){return M(function(t){for(var c=[],a=0;a<t.length;++a)c.push(255&t.charCodeAt(a));return c}(c),t,a,e)}function w(t,c,a,e){return M(function(t,c){for(var a,e,r,n=[],g=0;g<t.length&&!((c-=2)<0);++g)e=(a=t.charCodeAt(g))>>8,r=a%256,n.push(r),n.push(e);return n}(c,t.length-a),t,a,e)}function O(t,c,a){return 0===c&&a===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(c,a))}function N(t,c,a){a=Math.min(t.length,a);for(var e=[],r=c;r<a;){var n,g,o,i,u=t[r],s=null,f=239<u?4:223<u?3:191<u?2:1;if(r+f<=a)switch(f){case 1:u<128&&(s=u);break;case 2:128==(192&(n=t[r+1]))&&127<(i=(31&u)<<6|63&n)&&(s=i);break;case 3:n=t[r+1],g=t[r+2],128==(192&n)&&128==(192&g)&&2047<(i=(15&u)<<12|(63&n)<<6|63&g)&&(i<55296||57343<i)&&(s=i);break;case 4:n=t[r+1],g=t[r+2],o=t[r+3],128==(192&n)&&128==(192&g)&&128==(192&o)&&65535<(i=(15&u)<<18|(63&n)<<12|(63&g)<<6|63&o)&&i<1114112&&(s=i)}null===s?(s=65533,f=1):65535<s&&(s-=65536,e.push(s>>>10&1023|55296),s=56320|1023&s),e.push(s),r+=f}return function(t){var c=t.length;if(c<=C)return String.fromCharCode.apply(String,t);for(var a="",e=0;e<c;)a+=String.fromCharCode.apply(String,t.slice(e,e+=C));return a}(e)}c.Buffer=i,c.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},c.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),c.kMaxLength=g(),i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,c,a){return u(null,t,c,a)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,c,a){return function(t,c,a,e){return s(c),c<=0?o(t,c):void 0!==a?"string"==typeof e?o(t,c).fill(a,e):o(t,c).fill(a):o(t,c)}(null,t,c,a)},i.allocUnsafe=function(t){return f(null,t)},i.allocUnsafeSlow=function(t){return f(null,t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,c){if(!i.isBuffer(t)||!i.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(t===c)return 0;for(var a=t.length,e=c.length,r=0,n=Math.min(a,e);r<n;++r)if(t[r]!==c[r]){a=t[r],e=c[r];break}return a<e?-1:e<a?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,c){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var a;if(void 0===c)for(a=c=0;a<t.length;++a)c+=t[a].length;var e=i.allocUnsafe(c),r=0;for(a=0;a<t.length;++a){var g=t[a];if(!i.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(e,r),r+=g.length}return e},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<t;c+=2)d(this,c,c+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<t;c+=4)d(this,c,c+3),d(this,c+1,c+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<t;c+=8)d(this,c,c+7),d(this,c+1,c+6),d(this,c+2,c+5),d(this,c+3,c+4);return this},i.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?N(this,0,t):function(t,c,a){var e=!1;if((void 0===c||c<0)&&(c=0),c>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(c>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return j(this,c,a);case"utf8":case"utf-8":return N(this,c,a);case"ascii":return A(this,c,a);case"latin1":case"binary":return S(this,c,a);case"base64":return O(this,c,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,c,a);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",a=c.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,c,a,e,r){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===c&&(c=0),void 0===a&&(a=t?t.length:0),void 0===e&&(e=0),void 0===r&&(r=this.length),c<0||a>t.length||e<0||r>this.length)throw new RangeError("out of range index");if(r<=e&&a<=c)return 0;if(r<=e)return-1;if(a<=c)return 1;if(this===t)return 0;for(var n=(r>>>=0)-(e>>>=0),g=(a>>>=0)-(c>>>=0),o=Math.min(n,g),u=this.slice(e,r),s=t.slice(c,a),f=0;f<o;++f)if(u[f]!==s[f]){n=u[f],g=s[f];break}return n<g?-1:g<n?1:0},i.prototype.includes=function(t,c,a){return-1!==this.indexOf(t,c,a)},i.prototype.indexOf=function(t,c,a){return y(this,t,c,a,!0)},i.prototype.lastIndexOf=function(t,c,a){return y(this,t,c,a,!1)},i.prototype.write=function(t,c,a,e){if(void 0===c)e="utf8",a=this.length,c=0;else if(void 0===a&&"string"==typeof c)e=c,a=this.length,c=0;else{if(!isFinite(c))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");c|=0,isFinite(a)?(a|=0,void 0===e&&(e="utf8")):(e=a,a=void 0)}var r=this.length-c;if((void 0===a||r<a)&&(a=r),0<t.length&&(a<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");e=e||"utf8";for(var n,g,o,i,u=!1;;)switch(e){case"hex":return m(this,t,c,a);case"utf8":case"utf-8":return o=c,i=a,M(B(t,this.length-o),this,o,i);case"ascii":return v(this,t,c,a);case"latin1":case"binary":return v(this,t,c,a);case"base64":return this,n=c,g=a,M(D(t),this,n,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,c,a);default:if(u)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),u=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,c,a){var e="";a=Math.min(t.length,a);for(var r=c;r<a;++r)e+=String.fromCharCode(127&t[r]);return e}function S(t,c,a){var e="";a=Math.min(t.length,a);for(var r=c;r<a;++r)e+=String.fromCharCode(t[r]);return e}function j(t,c,a){var e=t.length;(!c||c<0)&&(c=0),(!a||a<0||e<a)&&(a=e);for(var r="",n=c;n<a;++n)r+=_(t[n]);return r}function P(t,c,a){for(var e=t.slice(c,a),r="",n=0;n<e.length;n+=2)r+=String.fromCharCode(e[n]+256*e[n+1]);return r}function x(t,c,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(a<t+c)throw new RangeError("Trying to access beyond buffer length")}function E(t,c,a,e,r,n){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<c||c<n)throw new RangeError('"value" argument is out of bounds');if(a+e>t.length)throw new RangeError("Index out of range")}function T(t,c,a,e){c<0&&(c=65535+c+1);for(var r=0,n=Math.min(t.length-a,2);r<n;++r)t[a+r]=(c&255<<8*(e?r:1-r))>>>8*(e?r:1-r)}function G(t,c,a,e){c<0&&(c=4294967295+c+1);for(var r=0,n=Math.min(t.length-a,4);r<n;++r)t[a+r]=c>>>8*(e?r:3-r)&255}function R(t,c,a,e){if(a+e>t.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function q(t,c,a,e,n){return n||R(t,0,a,4),r.write(t,c,a,e,23,4),a+4}function I(t,c,a,e,n){return n||R(t,0,a,8),r.write(t,c,a,e,52,8),a+8}i.prototype.slice=function(t,c){var a,e=this.length;if((t=~~t)<0?(t+=e)<0&&(t=0):e<t&&(t=e),(c=void 0===c?e:~~c)<0?(c+=e)<0&&(c=0):e<c&&(c=e),c<t&&(c=t),i.TYPED_ARRAY_SUPPORT)(a=this.subarray(t,c)).__proto__=i.prototype;else{var r=c-t;a=new i(r,void 0);for(var n=0;n<r;++n)a[n]=this[n+t]}return a},i.prototype.readUIntLE=function(t,c,a){t|=0,c|=0,a||x(t,c,this.length);for(var e=this[t],r=1,n=0;++n<c&&(r*=256);)e+=this[t+n]*r;return e},i.prototype.readUIntBE=function(t,c,a){t|=0,c|=0,a||x(t,c,this.length);for(var e=this[t+--c],r=1;0<c&&(r*=256);)e+=this[t+--c]*r;return e},i.prototype.readUInt8=function(t,c){return c||x(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,c){return c||x(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,c){return c||x(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,c){return c||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,c){return c||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,c,a){t|=0,c|=0,a||x(t,c,this.length);for(var e=this[t],r=1,n=0;++n<c&&(r*=256);)e+=this[t+n]*r;return(r*=128)<=e&&(e-=Math.pow(2,8*c)),e},i.prototype.readIntBE=function(t,c,a){t|=0,c|=0,a||x(t,c,this.length);for(var e=c,r=1,n=this[t+--e];0<e&&(r*=256);)n+=this[t+--e]*r;return(r*=128)<=n&&(n-=Math.pow(2,8*c)),n},i.prototype.readInt8=function(t,c){return c||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,c){c||x(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},i.prototype.readInt16BE=function(t,c){c||x(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},i.prototype.readInt32LE=function(t,c){return c||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,c){return c||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,c){return c||x(t,4,this.length),r.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,c){return c||x(t,4,this.length),r.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,c){return c||x(t,8,this.length),r.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,c){return c||x(t,8,this.length),r.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,c,a,e){t=+t,c|=0,a|=0,e||E(this,t,c,a,Math.pow(2,8*a)-1,0);var r=1,n=0;for(this[c]=255&t;++n<a&&(r*=256);)this[c+n]=t/r&255;return c+a},i.prototype.writeUIntBE=function(t,c,a,e){t=+t,c|=0,a|=0,e||E(this,t,c,a,Math.pow(2,8*a)-1,0);var r=a-1,n=1;for(this[c+r]=255&t;0<=--r&&(n*=256);)this[c+r]=t/n&255;return c+a},i.prototype.writeUInt8=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[c]=255&t,c+1},i.prototype.writeUInt16LE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[c]=255&t,this[c+1]=t>>>8):T(this,t,c,!0),c+2},i.prototype.writeUInt16BE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[c]=t>>>8,this[c+1]=255&t):T(this,t,c,!1),c+2},i.prototype.writeUInt32LE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[c+3]=t>>>24,this[c+2]=t>>>16,this[c+1]=t>>>8,this[c]=255&t):G(this,t,c,!0),c+4},i.prototype.writeUInt32BE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[c]=t>>>24,this[c+1]=t>>>16,this[c+2]=t>>>8,this[c+3]=255&t):G(this,t,c,!1),c+4},i.prototype.writeIntLE=function(t,c,a,e){if(t=+t,c|=0,!e){var r=Math.pow(2,8*a-1);E(this,t,c,a,r-1,-r)}var n=0,g=1,o=0;for(this[c]=255&t;++n<a&&(g*=256);)t<0&&0===o&&0!==this[c+n-1]&&(o=1),this[c+n]=(t/g>>0)-o&255;return c+a},i.prototype.writeIntBE=function(t,c,a,e){if(t=+t,c|=0,!e){var r=Math.pow(2,8*a-1);E(this,t,c,a,r-1,-r)}var n=a-1,g=1,o=0;for(this[c+n]=255&t;0<=--n&&(g*=256);)t<0&&0===o&&0!==this[c+n+1]&&(o=1),this[c+n]=(t/g>>0)-o&255;return c+a},i.prototype.writeInt8=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[c]=255&t,c+1},i.prototype.writeInt16LE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[c]=255&t,this[c+1]=t>>>8):T(this,t,c,!0),c+2},i.prototype.writeInt16BE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[c]=t>>>8,this[c+1]=255&t):T(this,t,c,!1),c+2},i.prototype.writeInt32LE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[c]=255&t,this[c+1]=t>>>8,this[c+2]=t>>>16,this[c+3]=t>>>24):G(this,t,c,!0),c+4},i.prototype.writeInt32BE=function(t,c,a){return t=+t,c|=0,a||E(this,t,c,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[c]=t>>>24,this[c+1]=t>>>16,this[c+2]=t>>>8,this[c+3]=255&t):G(this,t,c,!1),c+4},i.prototype.writeFloatLE=function(t,c,a){return q(this,t,c,!0,a)},i.prototype.writeFloatBE=function(t,c,a){return q(this,t,c,!1,a)},i.prototype.writeDoubleLE=function(t,c,a){return I(this,t,c,!0,a)},i.prototype.writeDoubleBE=function(t,c,a){return I(this,t,c,!1,a)},i.prototype.copy=function(t,c,a,e){if(a=a||0,e||0===e||(e=this.length),c>=t.length&&(c=t.length),c=c||0,0<e&&e<a&&(e=a),e===a)return 0;if(0===t.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-c<e-a&&(e=t.length-c+a);var r,n=e-a;if(this===t&&a<c&&c<e)for(r=n-1;0<=r;--r)t[r+c]=this[r+a];else if(n<1e3||!i.TYPED_ARRAY_SUPPORT)for(r=0;r<n;++r)t[r+c]=this[r+a];else Uint8Array.prototype.set.call(t,this.subarray(a,a+n),c);return n},i.prototype.fill=function(t,c,a,e){if("string"==typeof t){if("string"==typeof c?(e=c,c=0,a=this.length):"string"==typeof a&&(e=a,a=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof t&&(t&=255);if(c<0||this.length<c||this.length<a)throw new RangeError("Out of range index");if(a<=c)return this;var n;if(c>>>=0,a=void 0===a?this.length:a>>>0,"number"==typeof(t=t||0))for(n=c;n<a;++n)this[n]=t;else{var g=i.isBuffer(t)?t:B(new i(t,e).toString()),o=g.length;for(n=0;n<a-c;++n)this[n+c]=g[n%o]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function _(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,c){var a;c=c||1/0;for(var e=t.length,r=null,n=[],g=0;g<e;++g){if(55295<(a=t.charCodeAt(g))&&a<57344){if(!r){if(56319<a){-1<(c-=3)&&n.push(239,191,189);continue}if(g+1===e){-1<(c-=3)&&n.push(239,191,189);continue}r=a;continue}if(a<56320){-1<(c-=3)&&n.push(239,191,189),r=a;continue}a=65536+(r-55296<<10|a-56320)}else r&&-1<(c-=3)&&n.push(239,191,189);if(r=null,a<128){if((c-=1)<0)break;n.push(a)}else if(a<2048){if((c-=2)<0)break;n.push(a>>6|192,63&a|128)}else if(a<65536){if((c-=3)<0)break;n.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((c-=4)<0)break;n.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return n}function D(t){return e.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function M(t,c,a,e){for(var r=0;r<e&&!(r+a>=c.length||r>=t.length);++r)c[r+a]=t[r];return r}}).call(this,a(17))},function(t,c){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(t){"object"==typeof window&&(a=window)}t.exports=a},function(t,c){t.exports=require("base64-js")},function(t,c){t.exports=require("ieee754")},function(t,c){t.exports=require("isarray")},function(t,c,a){var e=a(22),r=a(23);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,c,a){"use strict";var e,r,n=(r={},function(t){if(void 0===r[t]){var c=document.querySelector(t);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch(t){c=null}r[t]=c}return r[t]}),g=[];function o(t){for(var c=-1,a=0;a<g.length;a++)if(g[a].identifier===t){c=a;break}return c}function i(t,c){for(var a={},e=[],r=0;r<t.length;r++){var n=t[r],i=c.base?n[0]+c.base:n[0],u=a[i]||0,s="".concat(i," ").concat(u);a[i]=u+1;var f=o(s),l={css:n[1],media:n[2],sourceMap:n[3]};-1!==f?(g[f].references++,g[f].updater(l)):g.push({identifier:s,updater:d(l,c),references:1}),e.push(s)}return e}function u(t){var c=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var r=a.nc;r&&(e.nonce=r)}if(Object.keys(e).forEach((function(t){c.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(c);else{var g=n(t.insert||"head");if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(c)}return c}var s,f=(s=[],function(t,c){return s[t]=c,s.filter(Boolean).join("\n")});function l(t,c,a,e){var r=a?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=f(c,r);else{var n=document.createTextNode(r),g=t.childNodes;g[c]&&t.removeChild(g[c]),g.length?t.insertBefore(n,g[c]):t.appendChild(n)}}var p=null,h=0;function d(t,c){var a,e,r;if(c.singleton){var n=h++;a=p=p||u(c),e=l.bind(null,a,n,!1),r=l.bind(null,a,n,!0)}else a=u(c),e=function(t,c,a){var e=a.css,r=a.media,n=a.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,a,c),r=function(){!function(t){null!==t.parentNode&&t.parentNode.removeChild(t)}(a)};return e(t),function(c){if(c){if(c.css===t.css&&c.media===t.media&&c.sourceMap===t.sourceMap)return;e(t=c)}else r()}}t.exports=function(t,c){(c=c||{}).singleton||"boolean"==typeof c.singleton||(c.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var a=i(t=t||[],c);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<a.length;e++){var r=o(a[e]);g[r].references--}for(var n=i(t,c),u=0;u<a.length;u++){var s=o(a[u]);0===g[s].references&&(g[s].updater(),g.splice(s,1))}a=n}}}},function(t,c,a){(c=a(24)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500&display=swap);"]),c.push([t.i,'/* outer level viewer container */\n.la-vz-seqviz {\n  height: 100%;\n  width: 100%;\n\n  display: flex;\n  flex-direction: row;\n}\n\n.la-vz-seqviz svg {\n  overflow: visible;\n}\n\n.la-vz-seqviz svg text {\n  user-select: none;\n  fill: #2a2a2a;\n  font-family: Roboto Mono, Monaco, monospace;\n}\n\n.la-vz-seqviz svg text:selection {\n  background: none;\n}\n\n.la-vz-viewer-container {\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n\n.la-vz-viewer-event-router {\n  position: absolute;\n  outline: none;\n  height: 100%;\n  width: inherit;\n}\n\n/* circular viewer */\n.la-vz-circular-viewer {\n  margin: auto;\n  font-size: 13px;\n  font-weight: 400;\n}\n\n.la-vz-circular-bps {\n  cursor: text;\n}\n\n.la-vz-circular-label {\n  cursor: pointer;\n}\n\n.la-vz-circular-label:hover {\n  text-decoration: underline;\n}\n\n.la-vz-label-line {\n  stroke: #9eaab8;\n  stroke-width: 1;\n  fill: none;\n}\n\n/* linear viewer */\n.la-vz-linear-scroller {\n  height: 100%;\n\n  outline: none !important;\n  position: relative;\n  font-weight: 300;\n  padding: 10px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  cursor: text;\n}\n\n.la-vz-seqblock-container {\n  width: 100%;\n}\n\n.la-vz-seqblock {\n  width: 100%;\n  padding: 0;\n  overflow: visible;\n}\n\n.la-vz-cut-site-text {\n  font-family: "Roboto", sans-serif !important;\n  font-size: 14px;\n}\n\n.la-vz-linear-sel-block {\n  fill: #def6ff;\n}\n\n.la-vz-scroll::-webkit-scrollbar {\n  width: 7px;\n}\n\n.la-vz-scroll::-webkit-scrollbar-thumb {\n  background-clip: padding-box;\n  border-radius: 7px;\n  background-color: #a6a6a6;\n}\n\n.la-vz-scroll::-webkit-scrollbar-track {\n  border-radius: 20px;\n}\n\n.la-vz-scroll::-webkit-scrollbar-track-piece {\n  background-clip: padding-box;\n  border-radius: 7px;\n  background-color: #ececec;\n}\n',""]),t.exports=c},function(t,c,a){"use strict";t.exports=function(t){var c=[];return c.toString=function(){return this.map((function(c){var a=function(t,c){var a=t[1]||"",e=t[3];if(!e)return a;if(c&&"function"==typeof btoa){var r=function(t){var c=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c);return"/*# ".concat(a," */")}(e),n=e.sources.map((function(t){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(t," */")}));return[a].concat(n).concat([r]).join("\n")}return[a].join("\n")}(c,t);return c[2]?"@media ".concat(c[2]," {").concat(a,"}"):a})).join("")},c.i=function(t,a,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var n=0;n<this.length;n++){var g=this[n][0];null!=g&&(r[g]=!0)}for(var o=0;o<t.length;o++){var i=[].concat(t[o]);e&&r[i[0]]||(a&&(i[2]?i[2]="".concat(a," and ").concat(i[2]):i[2]=a),c.push(i))}},c}},function(t,c,a){"use strict";a.r(c),a.d(c,"SeqViz",(function(){return un})),a.d(c,"pUC",(function(){return sn})),a.d(c,"Viewer",(function(){return hn}));var e=a(0),r=a.n(e),n=a(7),g=a.n(n),o=a(9),i=a.n(o),u=a(3),s=a.n(u),f=a(8),l=a.n(f),p=a(10),h=a.n(p),d=a(5),y=a(1),b=a(4);function m(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function v(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?m(Object(a),!0).forEach((function(c){w(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function w(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function O(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var N=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){O(n,e,r,g,o,"next",t)}function o(t){O(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c){var a,e,r,n,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=JSON.parse(c),e=Object(y.b)(a.bases),r=e.seq,n=e.compSeq,r.length<1)return t.abrupt("return",Promise.reject(new Error("Empty part sequence... invalid")));t.next=4;break;case 4:return g=v(v({},Object(y.e)()),{},{name:a.name||a._id,date:new Date(a.modifiedAt).getTime(),seq:r,compSeq:n,annotations:a.annotations.map((function(t){return v(v({},t),{},{id:Object(b.a)(),direction:0===t.strand?1:1===t.strand?-1:"NONE"})}))}),t.abrupt("return",[g]);case 6:case"end":return t.stop()}}),t)})));return function(c){return t.apply(this,arguments)}}(),C=a(6),A=a.n(C),S=a(2);function j(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function P(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?j(Object(a),!0).forEach((function(c){x(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function x(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function E(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var T=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){E(n,e,r,g,o,"next",t)}function o(t){E(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){function r(t){return e(new Error("Failed on BioBrick because ".concat(t)))}var n=a.backbone,g=void 0===n?"":n;A.a.parseString(c,{},(function(c,a){c&&r("XML to JSON: ".concat(c));var e=Object(y.d)(a.rsbpml.part_list);e&&e.part||r("getting first part"),(e=Object(y.d)(e.part))||r("getting first part");var n=e,o=n.sequences,i=n.part_name,u=n.features,s=Object(y.d)(o);s&&s.seq_data||r("getting seq_data");var f=Object(y.d)(u);f=f&&"feature"in f?f.feature:[];var l=Object(y.d)(s.seq_data);g.backbone&&(l+=g.backbone);var p=g.name&&g.name.length<20?g.name:"",h="".concat(Object(y.d)(i),"-").concat(p);l&&h||r("seq || name || featureArray");var d=f.map((function(t,c){if(!t)return null;var a=t.direction,e=t.startpos,r=t.endpos,n=t.type;return P(P({},Object(S.a)(c)),{},{direction:"forward"===a[0]?1:-1,start:+e[0]||0,end:+r[0]||0,name:"".concat(a[0],"-").concat(e[0]),type:n[0]||"N/A"})})).filter((function(t){return t}));d.push(P(P({},Object(S.a)(d.length)),{},{start:Object(y.d)(s.seq_data).length,end:0,name:g.name}));var b=P(P(P({},Object(y.e)()),Object(y.b)(l)),{},{name:h,annotations:d});t([b])}))})));case 1:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}();function G(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var R=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){G(n,e,r,g,o,"next",t)}function o(t){G(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){var e,r,n,g,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.trim().startsWith(">"))return t.abrupt("return",c.split(">").map((function(t){var c=t.substr(t.indexOf("\n"),t.length).replace(/\s/g,"");return{name:t.substring(0,t.search(/\n|\|/)).replace(/\//g,""),seq:c}})).filter((function(t){return t.name&&t.seq})));t.next=2;break;case 2:if(c.trim().startsWith(";"))return e=c.substring(0,c.search(/\n|\|/)).replace(/\//g,""),r=c.indexOf("\n",c.lastIndexOf(";")),n=c.substring(r,c.length),t.abrupt("return",[{name:e,seq:n}]);t.next=7;break;case 7:return g=a.lastIndexOf(".")||a.length,o=a.substring(0,g)||"Untitled",i=c,t.abrupt("return",[{name:o,seq:i}]);case 11:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}();function q(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function I(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?q(Object(a),!0).forEach((function(c){k(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function k(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function _(t,c){return z(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||M(t,c)||D()}function B(t){return z(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||M(t)||D()}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t,c){if(t){if("string"==typeof t)return L(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(t,c):void 0}}function L(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function z(t){if(Array.isArray(t))return t}function W(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var F=new Set(["gene","product","note","db_xref","protein_id","label","lab_host","locus_tag"]),U=new Set(["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"]),H=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){W(n,e,r,g,o,"next",t)}function o(t){W(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){var e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 2<e.length&&void 0!==e[2]&&e[2],t.abrupt("return",c.split(/\/\/\s/g).filter((function(t){return 5<t.length})).map((function(t){var c=t.substring(t.indexOf("LOCUS"),t.search(/\\n|\n/)),e=B(c.split(/\s{2,}/g).filter((function(t){return t}))),r=e[1],n=e.slice(2),g=r;if("Exported"===g&&t.includes("SnapGene")||Number.parseInt(g,10)){var o=!1;if(t.includes("ACCESSION")){var i=t.substring(t.indexOf("ACCESSION"),t.indexOf("\n",t.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(t){return"ACCESSION"!==t})).pop();i&&(g=i,o=!0)}!o&&a?g=a.substring(0,Math.max(a.search(/\n|\||\./),a.lastIndexOf("."))).replace(/\/\s/g,""):o||(g="Unnamed")}var u=Object(y.c)(n),s=t.substring(t.lastIndexOf("ORIGIN")+"ORIGIN".length,t.length).replace(/[^gatc]/gi,""),f="",l=Object(y.b)(s);s=l.seq,f=l.compSeq;var p=[],h=[];if(t.indexOf("FEATURES")){var d=t.indexOf("FEATURES"),b=t.indexOf("\n",d),m=t.lastIndexOf("ORIGIN");t.includes("CONTIG")&&(m=Math.min(m,t.indexOf("CONTIG")));var v=t.substring(b,m).split(/\n/).filter((function(t){return t})),w=!1;v.forEach((function(t,c){var a=t.split(/\s{2,}/g).filter((function(t){return t}));if(1<a.length){var e=_(a,2),r=e[0],n=e[1],g=/\d+/g,o=t.includes("complement")?-1:1,i=0,u=0,l=g.exec(n);if(l){i=l[0]-1%s.length;var d=g.exec(n);d&&(u=+d[0]%s.length)}if("primer_bind"===r){w=!0;var y=1==o;h.push(I(I({},Object(S.h)()),{},{gc:y?Object(S.b)(s.slice(i,u)):Object(S.b)(f.slice(i,u)),tm:y?Object(S.c)(s.slice(i,u)):Object(S.c)(f.slice(i,u)),vector:s,seq:y?s.slice(i,u).trim():Object(S.j)(f.slice(i,u)).trim()}))}else"source"!==r&&(w=!1,p.push(I(I({},Object(S.a)(c)),{},{type:r,start:i,end:u,direction:o})))}else if(1===a.length&&a[0].startsWith("/")){var b=_(a,1)[0],m=_((b=b.replace(/[/"]/g,"")).split(/=/),2),v=m[0],O=m[1],N=p.length-1;F.has(v.toLowerCase())?w?""===h[h.length-1].name&&(h[h.length-1].name=O.trim()):0<=N&&!p[N].name&&(p[N].name=O.trim()):U.has(v)?-1<N&&(p[N].color=O):"loom_primer_sequence"===v&&w&&(h[h.length-1].sequence=O)}}))}var O=!1;return(p.find((function(t){return!(0===t.end&&t.start)&&t.start>t.end}))||c.includes("circular"))&&(O=!0),I(I({},Object(y.e)()),{},{name:g.trim()||a,date:u,seq:s,compSeq:f,annotations:p,primers:h,circular:O})})));case 2:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}();function Y(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function X(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Y(Object(a),!0).forEach((function(c){V(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function V(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function K(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var Z=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){K(n,e,r,g,o,"next",t)}function o(t){K(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c){var a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1<a.length&&void 0!==a[1]&&a[1],t.abrupt("return",new Promise((function(t,a){var e=c.replace(/|/g,'"');A.a.parseString(e,{xmlns:!0,attrkey:"xml_tag",tagNameProcessors:[C.processors.stripPrefix]},(function(c,r){c&&function(t){a(new Error("Failed on JBEI file; ".concat(t)))}(c);var n=r.seq,g=n.name,o=n.sequence,i=n.features,u=n.circular,s="Unnamed";g&&g[0]&&g[0]._&&(s=g[0]._);var f="";o&&o[0]&&o[0]._&&(f=o[0]._);var l=Object(y.b)(f),p=l.seq,h=l.compSeq;if(!p)return null;var m=2e3<p.length;u&&u[0]&&u[0]._&&(m="true"===u[0]._);var v=[];i&&i[0]&&i[0].feature&&i[0].feature.forEach((function(t,c){if(t){var a=t.label,e=void 0===a?[{}]:a,r=t.type,n=void 0===r?[{}]:r,g=t.complement,o=void 0===g?[{}]:g,i=t.location,u=void 0===i?[]:i;u&&u[0]&&u[0].genbankStart&&u[0].end&&v.push({id:Object(b.a)(),color:Object(d.e)(c),start:u[0].genbankStart[0]._-1||0,end:+u[0].end[0]._||0,direction:"true"===o[0]._?-1:1,type:n[0]._||"N/A",name:e[0]._||"Untitled"})}})),t([X(X({},Object(y.e)()),{},{seq:p,compSeq:h,name:s,annotations:v,circular:m,source:e})])}))})));case 2:case"end":return t.stop()}}),t)})));return function(c){return t.apply(this,arguments)}}();function J(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function $(t){return function(t){if(Array.isArray(t))return Q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,c){if(t){if("string"==typeof t)return Q(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Q(t,c):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function tt(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function ct(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?tt(Object(a),!0).forEach((function(c){at(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function at(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function et(t,c){var a=c.strict,e=void 0!==a&&a,r=c.file,n=t.name,g=t.displayId,o=t.dnaSequence,i=t.annotation,u="Unnamed";if(n&&n[0]&&n[0]._)u=n[0]._;else if(g&&g[0]&&g[0]._)u=g[0]._;else if(e)return null;var s="";if(o&&o[0]&&o[0].DnaSequence){var f=o[0].DnaSequence;f[0]&&f[0].nucleotides&&f[0].nucleotides[0]&&f[0].nucleotides[0]._&&(s=f[0].nucleotides[0]._)}var l=Object(y.b)(s),p=l.seq,h=l.compSeq;if(!p)return null;var m=[];i&&i.forEach((function(t,c){var a=t.SequenceAnnotation;if(a&&a[0]){var e=a[0],r=e.bioStart,n=void 0===r?[{}]:r,g=e.bioEnd,o=void 0===g?[{}]:g,i=e.strand,u=e.subComponent;if(u&&u[0]&&u[0].DnaComponent&&u[0].DnaComponent[0]){var s=u[0].DnaComponent[0],f=s.type,l=void 0===f?[{}]:f,p=s.displayId,h=void 0===p?[{}]:p,y=s.name,v=void 0===y?[{}]:y;m.push({id:Object(b.a)(),color:Object(d.e)(c),start:n[0]._-1||0,end:o[0]._||0,direction:"+"===i[0]._?1:-1,type:l[0]._||"N/A",name:v[0]._||h[0]._||"Untitled"})}}}));var v=0<r.search(/plasmid/i);return ct(ct({},Object(y.e)()),{},{seq:p,compSeq:h,name:u,annotations:m,circular:v})}function rt(t,c){Object.keys(c).forEach((function(a){"DnaComponent"===a&&c[a].length&&t.push.apply(t,$(c[a])),Array.isArray(c[a])&&c[a].forEach((function(c){rt(t,c)}))}))}function nt(t,c){Object.keys(c).forEach((function(a){"Sequence"===a&&c[a].length&&t.push.apply(t,$(c[a])),Array.isArray(c[a])&&c[a].forEach((function(c){nt(t,c)}))}))}var gt=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){J(n,e,r,g,o,"next",t)}function o(t){J(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c){var a,e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=1<e.length&&void 0!==e[1]?e[1]:[],t.abrupt("return",new Promise((function(t,e){setTimeout((function(){e(new Error("Took to long to parse SBOL"))}),2e3);var r=c.replace(/|/g,'"');A.a.parseString(r,{xmlns:!0,attrkey:"xml_tag",tagNameProcessors:[C.processors.stripPrefix]},(function(r,n){r&&function(t){e(new Error("Failed on SBOL file; ".concat(t)))}(r);var g=null;n.RDF&&(g=n.RDF),g||e(new Error("No root RDF document"));var o=g,i=o.Collection,u=o.DnaComponent;if(i&&i.length){var s=[];i.forEach((function(t){var e=t.component;e&&e.length&&e.forEach((function(t){var e=t.DnaComponent;s.push(et(e[0],{strict:!1,file:c,colors:a}))}))})),s.length&&t(s)}else if(u&&u.length){var f=et(u[0],{strict:!1,file:c,colors:a});f&&t([f])}var l=[];rt(l,g);var p=l.map((function(t){return et(t,{strict:!0,file:c,colors:a})})).filter((function(t){return t}));p.length&&t(p);var h=[];nt(h,g);var d=h.map((function(t){return e=c,r=(a=t).displayId[0]&&a.displayId[0]._||a.title[0]&&a.title[0]._||"Unnamed",n=a.elements[0]&&a.elements[0]._||"",o=(g=Object(y.b)(n)).seq,i=g.compSeq,u=0<e.search(/plasmid/i),ct(ct({},Object(y.e)()),{},{name:r,seq:o,compSeq:i,circular:u});var a,e,r,n,g,o,i,u})).filter((function(t){return t}));d.length&&t(d),e(new Error("no valid DnaComponent or Collection"))}))})));case 2:case"end":return t.stop()}}),t)})));return function(c){return t.apply(this,arguments)}}();function ot(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function it(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?ot(Object(a),!0).forEach((function(c){ut(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function ut(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function st(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function ft(t){return t&&t[0]&&t[0]._?t[0]._:null}var lt=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){st(n,e,r,g,o,"next",t)}function o(t){st(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){var e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 2<e.length&&void 0!==e[2]&&e[2],t.abrupt("return",new Promise((function(t,e){var r=c.replace(/|/g,'"');A.a.parseString(r,{xmlns:!0,attrkey:"xml_tag",tagNameProcessors:[C.processors.stripPrefix]},(function(c,r){c&&function(t){e(new Error("Failed on SBOLv2 file: ".concat(t)))}(c);var n=null;r.RDF&&(n=r.RDF),n||e(new Error("No root RDF document"));var g=n,o=g.ComponentDefinition,i=g.Sequence;o&&o.length&&i||t([]);var u=[];o.forEach((function(t,c){if(t.sequence&&t.sequence.length){var e=t.displayId,r=t.description,n=t.sequence,g=t.sequenceAnnotation,o=ft(e)||"".concat(a,"_").concat(c+1),s=ft(r)||"",f=[];(g||[]).forEach((function(t){var c=t.SequenceAnnotation[0],a=ft(c.displayId),e=c.location[0].Range[0];f.push(it(it({},Object(S.a)(a)),{},{name:a,start:ft(e.start)-1,end:ft(e.end)-1}))}));var l=n[0].xml_tag["rdf:resource"].value,p=i.find((function(t){return t.persistentIdentity&&t.persistentIdentity.length&&t.persistentIdentity[0].xml_tag["rdf:resource"].value===l||t.xml_tag["rdf:about"].value===l}));if(p&&p.elements){var h=ft(p.elements)||"",d=Object(y.b)(h),b=d.seq,m=d.compSeq;u.push(it(it({},Object(y.e)()),{},{name:o,note:s,seq:b,compSeq:m,annotations:f}))}}})),u.length&&t(u),t([])}))})));case 2:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}();function pt(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var ht=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){pt(n,e,r,g,o,"next",t)}function o(t){pt(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){var e,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=2<r.length&&void 0!==r[2]?r[2]:[],t.abrupt("return",c.includes("sbols.org/v1#")?gt(c,e):lt(c,a,e));case 2:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}(),dt=a(11);function yt(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function bt(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?yt(Object(a),!0).forEach((function(c){mt(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function mt(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function vt(t,c){return At(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||Nt(t,c)||Ot()}function wt(t){return At(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Nt(t)||Ot()}function Ot(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nt(t,c){if(t){if("string"==typeof t)return Ct(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ct(t,c):void 0}}function Ct(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function At(t){if(Array.isArray(t))return t}function St(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var jt=["gene","product","note","db_xref","protein_id","label","lab_host"],Pt=["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"],xt=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){St(n,e,r,g,o,"next",t)}function o(t){St(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c,a){var e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 2<e.length&&void 0!==e[2]&&e[2],t.abrupt("return",c.split(/\/\/\s/g).map((function(t){var c,e=t.substring(t.search(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)+t.match(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)[0].length,t.length).match(/[actgyrwskmdvhbxn]+/gim)[0],r=Object(y.b)(e);e=r.seq,c=r.compSeq;var n=0<a.length?a:"Unnamed",g=Date.now(),o=!1;if(5e5<e.length)throw new Error("Import of sequence length ".concat(e.length,"bp failed. Please keep sequences under 500000bp."),e.length);if(~t.indexOf("LOCUS")){var i=t.substring(t.indexOf("LOCUS"),t.search(/\\n|\n/));if(i&&i.split(/\s{2,}/g)){var u=wt(i.split(/\s{2,}/g).filter((function(t){return t}))),s=u[1],f=u.slice(2);n=s,g=Object(y.c)(f),i.includes("circular")&&(o=!0)}}if("Exported"===n&&t.includes("SnapGene")||Number.parseInt(n,10)){var l=!1;if(t.includes("ACCESSION")){var p=t.substring(t.indexOf("ACCESSION"),t.indexOf("\n",t.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(t){return"ACCESSION"!==t})).pop();p&&(n=p,l=!0)}!l&&a?n=a.substring(0,Math.max(a.search(/\n|\||\./),a.lastIndexOf("."))).replace(/\/\s/g,""):l||(n="Unnamed")}var h=[];if(t.indexOf("FEATURES")){var d=t.indexOf("FEATURES"),b=t.indexOf("\n",d),m=t.lastIndexOf("ORIGIN");t.includes("CONTIG")&&(m=Math.min(m,t.indexOf("CONTIG"))),t.substring(b,m).split(/\n/).filter((function(t){return t})).forEach((function(t){var c=t.split(/\s{2,}/g).filter((function(t){return t}));if(1<c.length){var a=vt(c,2),r=a[0],n=a[1],g=/\d+/g,o=t.includes("complement")?-1:1,i=0,u=0,s=g.exec(n);if(s){i=s[0]-1%e.length;var f=g.exec(n);f&&(u=+f[0]%e.length)}"source"!==r&&h.push(bt(bt({},Object(S.a)()),{},{type:r,start:i,end:u,direction:o}))}else if(1===c.length){var l=vt(c,1)[0],p=vt((l=l.replace(/[/"]/g,"")).split(/=/),2),d=p[0],y=p[1],b=h.length-1;jt.includes(d)?-1<b&&!h[h.length-1].name&&(h[h.length-1].name=y.trim()):Pt.includes(d)&&-1<b&&(h[h.length-1].color=y)}}))}return h.find((function(t){return!(0===t.end&&t.start)&&t.start>t.end}))&&(o=!0),bt(bt({},Object(y.e)()),{},{name:n.trim()||a,date:g,seq:e,compSeq:c,annotations:h,circular:o})})));case 2:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}();function Et(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Tt(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Et(Object(a),!0).forEach((function(c){Gt(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function Gt(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function Rt(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function qt(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){Rt(n,e,r,g,o,"next",t)}function o(t){Rt(n,e,r,g,o,"throw",t)}g(void 0)}))}}var It=function(){var t=qt(regeneratorRuntime.mark((function t(c){var a,e,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=1<r.length&&void 0!==r[1]?r[1]:{fileName:"",colors:d.a,backbone:""},t.prev=1,t.next=4,new Promise((function(t,e){var r=a.fileName,n=void 0===r?"":r,g=a.colors,o=void 0===g?[]:g,i=a.backbone,u=void 0===i?"":i;if("string"!=typeof c){Array.isArray(c)||(c=[c]);var s=[];c.forEach((function(t){"application/zip"===t.type?e(new Error("zip files are not supported by SeqViz")):"string"==typeof t?s.push(kt(t,a)):s.push(new Promise((function(c){var e=new FileReader;e.onload=function(t){c(kt(t.target.result,r))};var r=t.name?Tt(Tt({},a),{},{fileName:t.name}):a;r.fileName.endsWith(".dna")?e.readAsArrayBuffer(t):e.readAsText(t)})))})),t(Promise.all(s))}else t(kt(c,{fileName:n,colors:o,backbone:u}))}));case 4:return e=t.sent,t.abrupt("return",e.reduce((function(t,c){return t.concat(c)}),[]));case 8:throw t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(c){return t.apply(this,arguments)}}(),kt=function(){var t=qt(regeneratorRuntime.mark((function t(c){var a,e,r,n,g,o,i,u,s,f,l,p,d,b,m,v,w,O=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(a=1<O.length&&void 0!==O[1]?O[1]:{fileName:"",colors:[],backbone:""}).fileName,r=void 0===e?"":e,n=a.colors,g=void 0===n?[]:n,o=a.backbone,i=void 0===o?"":o,c){t.next=4;break}throw Error("cannot parse null or empty string");case 4:u=c.search?c.substring(0,c.search("\n")):"",s=u.replace(/[^atcgATCG]/,"").length,f=.8<s/u.length,l=r.split(h.a.sep).pop(),p=r&&l?l.substring(0,l.search("\\.")):"Untitled",b=!(d={name:l,file:c});try{m=JSON.parse(c),v=Object.keys(m),["bases","annotations","primers"].every((function(t){return v.includes(t)}))&&(b=!0)}catch(t){}t.prev=12,t.t0=!0,t.next=t.t0===r.endsWith(".dna")?16:t.t0===c.startsWith(">")?20:t.t0===c.startsWith(";")?20:t.t0===r.endsWith(".seq")?20:t.t0===r.endsWith(".fa")?20:t.t0===r.endsWith(".fas")?20:t.t0===r.endsWith(".fasta")?20:t.t0===(c.includes("LOCUS")&&c.includes("ORIGIN"))?24:t.t0===r.endsWith(".gb")?24:t.t0===r.endsWith(".gbk")?24:t.t0===r.endsWith(".genbank")?24:t.t0===r.endsWith(".ape")?24:t.t0===c.includes("Written by SeqBuilder")?28:t.t0===r.endsWith(".sbd")?28:t.t0===c.includes("Parts from the iGEM")?32:t.t0===c.includes("<part_list>")?32:t.t0===b?36:t.t0===c.includes("RDF")?40:t.t0===c.includes(':seq="http://jbei.org/sequence"')?44:t.t0===c.startsWith("<seq:seq")?44:t.t0===f?48:50;break;case 16:return t.next=18,Object(dt.a)(c,{fileName:r,colors:g});case 18:return w=t.sent,t.abrupt("break",51);case 20:return t.next=22,R(c,r).then((function(t){return t.map((function(t){return Tt(Tt(Tt({},Object(y.e)()),Object(y.b)(t.seq)),t)}))}));case 22:return w=t.sent,t.abrupt("break",51);case 24:return t.next=26,H(c,r,g);case 26:return w=t.sent,t.abrupt("break",51);case 28:return t.next=30,xt(c,r,g);case 30:return w=t.sent,t.abrupt("break",51);case 32:return t.next=34,T(c,{colors:g,backbone:i});case 34:return w=t.sent,t.abrupt("break",51);case 36:return t.next=38,N(c);case 38:return w=t.sent,t.abrupt("break",51);case 40:return t.next=42,ht(c,r,g);case 42:return w=t.sent,t.abrupt("break",51);case 44:return t.next=46,Z(c,g);case 46:return w=t.sent,t.abrupt("break",51);case 48:return w=[Tt(Tt(Tt({},Object(y.e)()),Object(y.b)(c)),{},{name:p})],t.abrupt("break",51);case 50:throw Error("".concat(r," File type not recognized: ").concat(c));case 51:t.next=57;break;case 53:return t.prev=53,t.t1=t.catch(12),console.error(t.t1),t.abrupt("return",null);case 57:if(w)return t.abrupt("return",w.map((function(t){return Tt(Tt({},t),{},{source:d,annotations:t.annotations.map((function(t){return Tt(Tt({},t),{},{name:t.name||"Untitled"})}))})})));t.next=59;break;case 59:throw Error("unparsable file");case 60:case"end":return t.stop()}}),t,null,[[12,53]])})));return function(c){return t.apply(this,arguments)}}(),_t={PSB1A3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatataacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1C3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaacaaatccagat\nggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtactgttgtaatt\ncattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtataatatttgcc\ncatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaaaacatattc\ntcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgtggtattcac\ntccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcattgccatacg\naaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaaggccgtaata\ntccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacggtggtatatc\ncagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatggtgaaagtt\nggaacctcttacgtgcccgatcaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggca\ngaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1K3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgagtcccgtcaagtcagcgtaatgctctgccagtgttacaaccaattaaccaattctgattagaa\naaactcatcgagcatcaaatgaaactgcaatttattcatatcaggattatcaataccatatttttgaaaaagccgtttctgtaatgaaggagaaaactca\nccgaggcagttccataggatggcaagatcctggtatcggtctgcgattccgactcgtccaacatcaatacaacctattaatttcccctcgtcaaaaataa\nggttatcaagtgagaaatcaccatgagtgacgactgaatccggtgagaatggcaaaagcttatgcatttctttccagacttgttcaacaggccagccatt\nacgctcgtcatcaaaatcactcgcatcaaccaaaccgttattcattcgtgattgcgcctgagcgagacgaaatacgcgatcgctgttaaaaggacaatta\ncaaacaggaatcgaatgcaaccggcgcaggaacactgccagcgcatcaacaatattttcacctgaatcaggatattcttctaatacctggaatgctgttt\ntcccggggatcgcagtggtgagtaaccatgcatcatcaggagtacggataaaatgcttgatggtcggaagaggcataaattccgtcagccagtttagtct\ngaccatctcatctgtaacatcattggcaacgctacctttgccatgtttcagaaacaactctggcgcatcgggcttcccatacaatcgatagattgtcgca\ncctgattgcccgacattatcgcgagcccatttatacccatataaatcagcatccatgttggaatttaatcgcggcctggagcaagacgtttcccgttgaa\ntatggctcataacaccccttgtattactgtttatgtaagcagacagttttattgttcatgatgatatatttttatcttgtgcaatgtaacatcagagatt\nttgagacacaacgtggctttgttgaataaatcgaacttttgctgagttgaaggatcagctcgagtgccacctgacgtctaagaaaccattattatcatga\ncattaacctataaaaataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttct\nagag",PSB1T3:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagctcgagattctcatgtttgacagcttatcatcgataagctttaatgcggtagtttatcacagttaaat\ntgctaacgcagtcaggcaccgtgtatgaaatctaacaatgcgctcatcgtcatcctcggcaccgtcaccctggatgctgtaggcataggcttggttatgc\ncggtactgccgggcctcttgcgggatatcgtccattccgacagcatcgccagtcactatggcgtgctgctagcgctatatgcgttgatgcaatttctatg\ncgcacccgttctcggagcactgtccgaccgctttggccgccgcccagtcctgctcgcttcgctacttggagccactatcgactacgcgatcatggcgacc\nacacccgtcctgtggatcctctacgccggacgcatcgtggccggcatcaccggcgccacaggtgcggttgctggcgcctatatcgccgacatcaccgatg\ngggaagatcgggctcgccacttcgggctcatgagcgcttgtttcggcgtgggtatggtggcaggccccgtggccgggggactgttgggcgccatctcctt\ngcatgcaccattccttgcggcggcggtgctcaacggcctcaacctactactgggctgcttcctaatgcaggagtcgcataagggagagcgtcgaccgatg\ncccttgagagccttcaacccagtcagctccttccggtgggcgcggggcatgactatcgtcgccgcacttatgactgtcttctttatcatgcaactcgtag\ngacaggtgccggcagcgctctgggtcattttcggcgaggaccgctttcgctggagcgcgacgatgatcggcctgtcgcttgcggtattcggaatcttgca\ncgccctcgctcaagccttcgtcactggtcccgccaccaaacgtttcggcgagaagcaggccattatcgccggcatggcggccgacgcgctgggctacgtc\nttgctggcgttcgcgacgcgaggctggatggccttccccattatgattcttctcgcttccggcggcatcgggatgcccgcgttgcaggccatgctgtcca\nggcaggtagatgacgaccatcagggacagcttcaaggatcgctcgcggctcttaccagcctaacttcgatcactggaccgctgatcgtcacggcgattta\ntgccgcctcggcgagcacatggaacgggttggcatggattgtaggcgccgccctataccttgtctgcctccccgcgttgcgtcgcggtgcatggagccgg\ngccacctcgacctaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcag\nataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1A7:"actagtagcggccgctgcaggcttataaacgcagaaaggcccacccgaaggtgagccagtgtgactctagtagagagcgttcaccgacaaacaacagata\naaacgaaaggcccagtctttcgactgagcctttcgttttatttgatgcctgggtgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttt\ntctttaaaaccgaaaagattacttcgcgttatgcaggcttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcact\ncaaaggcggtaatacggttatccacagaatcaggggataacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgc\ngttgctggcgtttttccataggctccgcccccctgacgagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagatac\ncaggcgtttccccctggaagctccctcgtgcgctctcctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgc\ntttctcatagctcacgctgtaggtatctcagttcggtgtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgc\ncttatccggtaactatcgtcttgagtccaacccggtaagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgta\nggcggtgctacagagttcttgaagtggtggcctaactacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaa\naaagagttggtagctcttgatccggcaaacaaaccaccgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctca\nagaagatcctttgatcttttctacggggtctgacgctcagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacc\ntagatccttttaaattaaaaatgaagttttaaatcaatctaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcaccta\ntctcagcgatctgtctatttcgttcatccatagttgcctgactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgc\naatgataccgcgagacccacgctcaccggctccagatttatcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatcc\ngcctccatccagtctattaattgttgccgggaagctagagtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtgg\ntgtcacgctcgtcgtttggtatggcttcattcagctccggttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctc\ncttcggtcctccgatcgttgtcagaagtaagttggccgcagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgta\nagatgcttttctgtgactggtgagtactcaaccaagtcattctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataata\nccgcgccacatagcagaactttaaaagtgctcatcattggaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgat\ngtaacccactcgtgcacccaactgatcttcagcatcttttactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaaggga\nataagggcgacacggaaatgttgaatactcatactcttcctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttg\naatgtatttagaaaaataaacaaataggggttccgcgcacatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaaccta\ntaaaaataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattgccaggcatcaaataaaacgaaa\nggctcagtcgaaagactgggcctttcgttttatctgttgtttgtcggtgaacgctctctactagagtcacactggctcaccttcgggtgggcctttctgc\ngtttatagcagaattcgcggccgcttctaga",PSB1AC3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaacaaatccag\natggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtactgttgtaa\nttcattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtataatatttg\ncccatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaaaacatat\ntctcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgtggtattc\nactccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcattgccata\ncgaaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaaggccgtaa\ntatccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacggtggtata\ntccagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatggtgaaag\nttggaacctcttacgtgcccgatcaactcgagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1AK3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgagtcccgtcaagtcagcgtaatgctctgccagtgttacaaccaattaaccaattctgattag\naaaaactcatcgagcatcaaatgaaactgcaatttattcatatcaggattatcaataccatatttttgaaaaagccgtttctgtaatgaaggagaaaact\ncaccgaggcagttccataggatggcaagatcctggtatcggtctgcgattccgactcgtccaacatcaatacaacctattaatttcccctcgtcaaaaat\naaggttatcaagtgagaaatcaccatgagtgacgactgaatccggtgagaatggcaaaagcttatgcatttctttccagacttgttcaacaggccagcca\nttacgctcgtcatcaaaatcactcgcatcaaccaaaccgttattcattcgtgattgcgcctgagcgagacgaaatacgcgatcgctgttaaaaggacaat\ntacaaacaggaatcgaatgcaaccggcgcaggaacactgccagcgcatcaacaatattttcacctgaatcaggatattcttctaatacctggaatgctgt\ntttcccggggatcgcagtggtgagtaaccatgcatcatcaggagtacggataaaatgcttgatggtcggaagaggcataaattccgtcagccagtttagt\nctgaccatctcatctgtaacatcattggcaacgctacctttgccatgtttcagaaacaactctggcgcatcgggcttcccatacaatcgatagattgtcg\ncacctgattgcccgacattatcgcgagcccatttatacccatataaatcagcatccatgttggaatttaatcgcggcctggagcaagacgtttcccgttg\naatatggctcataacaccccttgtattactgtttatgtaagcagacagttttattgttcatgatgatatatttttatcttgtgcaatgtaacatcagaga\nttttgagacacaacgtggctttgttgaataaatcgaacttttgctgagttgaaggatcagctcgagttaccaatgcttaatcagtgaggcacctatctca\ngcgatctgtctatttcgttcatccatagttgcctgactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatga\ntaccgcgagacccacgctcaccggctccagatttatcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctc\ncatccagtctattaattgttgccgggaagctagagtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtca\ncgctcgtcgtttggtatggcttcattcagctccggttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcg\ngtcctccgatcgttgtcagaagtaagttggccgcagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatg\ncttttctgtgactggtgagtactcaaccaagtcattctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcg\nccacatagcagaactttaaaagtgctcatcattggaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaac\nccactcgtgcacccaactgatcttcagcatcttttactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataag\nggcgacacggaaatgttgaatactcatactcttcctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgt\natttagaaaaataaacaaataggggttccgcgcacatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaa\nataggcgtatcacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagag",PSB1AT3:"tactagtagcggccgctgcagtccggcaaaaaaacgggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcagg\ncttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcagggga\ntaacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgac\ngagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctc\nctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggt\ngtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggta\nagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaact\nacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccac\ncgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgct\ncagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaa\ntctaaagtatatatgagtaaacttggtctgacagctcgagattctcatgtttgacagcttatcatcgataagctttaatgcggtagtttatcacagttaa\nattgctaacgcagtcaggcaccgtgtatgaaatctaacaatgcgctcatcgtcatcctcggcaccgtcaccctggatgctgtaggcataggcttggttat\ngccggtactgccgggcctcttgcgggatatcgtccattccgacagcatcgccagtcactatggcgtgctgctagcgctatatgcgttgatgcaatttcta\ntgcgcacccgttctcggagcactgtccgaccgctttggccgccgcccagtcctgctcgcttcgctacttggagccactatcgactacgcgatcatggcga\nccacacccgtcctgtggatcctctacgccggacgcatcgtggccggcatcaccggcgccacaggtgcggttgctggcgcctatatcgccgacatcaccga\ntggggaagatcgggctcgccacttcgggctcatgagcgcttgtttcggcgtgggtatggtggcaggccccgtggccgggggactgttgggcgccatctcc\nttgcatgcaccattccttgcggcggcggtgctcaacggcctcaacctactactgggctgcttcctaatgcaggagtcgcataagggagagcgtcgaccga\ntgcccttgagagccttcaacccagtcagctccttccggtgggcgcggggcatgactatcgtcgccgcacttatgactgtcttctttatcatgcaactcgt\naggacaggtgccggcagcgctctgggtcattttcggcgaggaccgctttcgctggagcgcgacgatgatcggcctgtcgcttgcggtattcggaatcttg\ncacgccctcgctcaagccttcgtcactggtcccgccaccaaacgtttcggcgagaagcaggccattatcgccggcatggcggccgacgcgctgggctacg\ntcttgctggcgttcgcgacgcgaggctggatggccttccccattatgattcttctcgcttccggcggcatcgggatgcccgcgttgcaggccatgctgtc\ncaggcaggtagatgacgaccatcagggacagcttcaaggatcgctcgcggctcttaccagcctaacttcgatcactggaccgctgatcgtcacggcgatt\ntatgccgcctcggcgagcacatggaacgggttggcatggattgtaggcgccgccctataccttgtctgcctccccgcgttgcgtcgcggtgcatggagcc\ngggccacctcgacctaactcgagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcctgactccccg\ntcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagatttatcagcaat\naaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctagagtaagtagt\ntcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccggttcccaac\ngatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgcagtgttatc\nactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtcattctgagaa\ntagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattggaaaacgtt\ncttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaacccactcgtgcacccaactgatcttcagcatcttttactttcac\ncagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttcctttttcaa\ntattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgcacatttcccc\ngaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaaaaaatcctt\nagctttcgctaaggatgatttctggaattcgcggccgcttctagag",BBA_K1362091:"tactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgttatgcaggct\ntcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggata\nacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgcccccctgacga\ngcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcct\ngttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgt\naggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaag\nacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactac\nggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccg\nctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctca\ngtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatc\ntaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcct\ngactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagattt\natcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctaga\ngtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccg\ngttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgc\nagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtca\nttctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattg\ngaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatataacccactcgtgcacccaactgatcttcagcatcttt\ntactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttc\nctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgca\ncatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggcagaatttcagataaaa\naaaatccttagctttcgctaaggatgatttctggaatttaatacgactcactataggggaattgtgagcggataacaattccccgaattcgcggccgctt\nctagag",BBA_K823055:"accggttaatactagtagcggccgctgcagtccggcaaaaaagggcaaggtgtcaccaccctgccctttttctttaaaaccgaaaagattacttcgcgtt\natgcaggcttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaat\ncaggggataacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccacaggctccgccc\nccctgacgagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtg\ncgctctcctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctca\ngttcggtgtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaa\ncccggtaagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtgg\ncctaactacggctacactagaagaacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaac\naaaccaccgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtc\ntgacgctcagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagtttt\naaatcaatctaaagtatatatgagtaaacttggtctgacagctcgaggcttggattctcaccaataaaaaacgcccggcggcaaccgagcgttctgaaca\naatccagatggagttctgaggtcattactggatctatcaacaggagtccaagcgagctcgatatcaaattacgccccgccctgccactcatcgcagtact\ngttgtaattcattaagcattctgccgacatggaagccatcacaaacggcatgatgaacctgaatcgccagcggcatcagcaccttgtcgccttgcgtata\natatttgcccatggtgaaaacgggggcgaagaagttgtccatattggccacgtttaaatcaaaactggtgaaactcacccagggattggctgagacgaaa\naacatattctcaataaaccctttagggaaataggccaggttttcaccgtaacacgccacatcttgcgaatatatgtgtagaaactgccggaaatcgtcgt\nggtattcactccagagcgatgaaaacgtttcagtttgctcatggaaaacggtgtaacaagggtgaacactatcccatatcaccagctcaccgtctttcat\ntgccatacgaaattccggatgagcattcatcaggcgggcaagaatgtgaataaaggccggataaaacttgtgcttatttttctttacggtctttaaaaag\ngccgtaatatccagctgaacggtctggttataggtacattgagcaactgactgaaatgcctcaaaatgttctttacgatgccattgggatatatcaacgg\ntggtatatccagtgatttttttctccattttagcttccttagctcctgaaaatctcgataactcaaaaaatacgcccggtagtgatcttatttcattatg\ngtgaaagttggaacctcttacgtgcccgatcaactcgagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtat\ncacgaggcagaatttcagataaaaaaaatccttagctttcgctaaggatgatttctggaattcgcggccgcttctagataaggaggaactactatggccg\ngc"};function Bt(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}var Dt=function(){var t=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){Bt(n,e,r,g,o,"next",t)}function o(t){Bt(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(c){var a,e,r,n,g,o,i,u,s,p,h,d,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!1,r=c+(a=1<y.length&&void 0!==y[1]?y[1]:{backbone:"",colors:[]}).backbone||"",c&&r&&localStorage.getItem(r))return t.abrupt("return",JSON.parse(localStorage.getItem(r)));t.next=5;break;case 5:return n=a.colors,g=void 0===n?[]:n,o=a.backbone,i=void 0===o?"":o,u="https://cors-anywhere.herokuapp.com/https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&id=".concat(c.trim(),"&rettype=gbwithparts&retmode=text"),c.startsWith("BB")?(e=!0,u="https://cors-anywhere.herokuapp.com/http://parts.igem.org/xml/part.".concat(c.trim())):i.length&&console.error("backbone specified without a BioBrick"),t.next=10,l()(new f.Request(u,{headers:{"X-Requested-With":"XMLHttpRequest"}})).then((function(t){return t.text()})).catch(console.error);case 10:if(s=t.sent){t.next=13;break}throw new Error("Failed to retrieve a seq with accession ".concat(c," from ").concat(u));case 13:return p=e&&i.length?{name:i,backbone:(b=i,m=b.toUpperCase(),v=_t[m],v||(console.warn("Your backbone input ".concat(b," did not match the name of any iGEM Backbone packaged with this library.\n      Please check if the backbone you are using is listed at https://parts.igem.org/Plasmid_backbones/Assembly.\n      If you are using a custom backbone please be aware that this library does not check for the validity of your prefix and suffix.\n      You can read more about prefixes and suffixes here: http://parts.igem.org/Help:Prefix-Suffix.")),b))}:"",e&&""===p&&console.error("iGEM BioBrick ID used, but no backbone ID specified."),t.next=17,It(s,{colors:g,backbone:p});case 17:if(!(h=t.sent)||!h.length){t.next=23;break}if(d=h[0],r&&d&&d.seq)return localStorage.setItem(r,JSON.stringify(d)),t.abrupt("return",d);t.next=23;break;case 23:throw new Error("Failed to retrieve a seq with accession ".concat(c," from ").concat(u));case 24:case"end":return t.stop()}var b,m,v}),t)})));return function(c){return t.apply(this,arguments)}}(),Mt={"PI-SceI":{rseq:"ATCTATGTCGGGTGCGGAGAAAGAGGTAATGAAATGG",rcut:11,fcut:15},"PI-PspI":{rseq:"TGGCAAACAGCTATTATGGGTATTATGGGT",rcut:13,fcut:17},"I-CeuI":{rseq:"TAACTATAACGGTCCTAAGGTAGCGAA",rcut:14,fcut:18},"I-SceI":{rseq:"TAGGGATAACAGGGTAAT",rcut:5,fcut:9},AscI:{rseq:"GGCGCGCC",rcut:6,fcut:2},AsiSI:{rseq:"GCGATCGC",rcut:3,fcut:5},FseI:{rseq:"GGCCGGCC",rcut:2,fcut:6},NotI:{rseq:"GCGGCCGC",rcut:6,fcut:2},PacI:{rseq:"TTAATTAA",rcut:3,fcut:5},PmeI:{rseq:"GTTTAAAC",rcut:4,fcut:4},PspXI:{rseq:"VCTCGAGB",rcut:6,fcut:2},SbfI:{rseq:"CCTGCAGG",rcut:2,fcut:6},SfiI:{rseq:"GGCCNNNNNGGCC",rcut:5,fcut:8},SgrAI:{rseq:"CRCCGGYG",rcut:6,fcut:2},SrfI:{rseq:"GCCCGGGC",rcut:4,fcut:4},SwaI:{rseq:"ATTTAAAT",rcut:4,fcut:4},BaeI:{rseq:"NNNNNNNNNNNNNNNACNNNNGTAYCNNNNNNNNNNNN",rcut:33,fcut:38},BbvCI:{rseq:"CCTCAGC",rcut:5,fcut:2},BspQI:{rseq:"GCTCTTCNNNN",rcut:11,fcut:8},CspCI:{rseq:"NNNNNNNNNNNNNCAANNNNNGTGGNNNNNNNNNNNN",rcut:35,fcut:37},PpuMI:{rseq:"RGGWCCY",rcut:5,fcut:2},RsrII:{rseq:"CGGWCCG",rcut:5,fcut:2},SapI:{rseq:"GCTCTTCNNNN",rcut:11,fcut:8},SexAI:{rseq:"ACCWGGT",rcut:6,fcut:1},AatII:{rseq:"GACGTC",rcut:1,fcut:5},Acc65I:{rseq:"GGTACC",rcut:5,fcut:1},AccI:{rseq:"GTMKAC",rcut:4,fcut:2},AclI:{rseq:"AACGTT",rcut:4,fcut:2},AcuI:{rseq:"CTGAAGNNNNNNNNNNNNNNNN",rcut:20,fcut:22},AfeI:{rseq:"AGCGCT",rcut:3,fcut:3},AflII:{rseq:"CTTAAG",rcut:5,fcut:1},AflIII:{rseq:"ACRYGT",rcut:5,fcut:1},AgeI:{rseq:"ACCGGT",rcut:5,fcut:1},AhdI:{rseq:"GACNNNNNGTC",rcut:5,fcut:6},AleI:{rseq:"CACNNNNGTG",rcut:5,fcut:5},AlwNI:{rseq:"CAGNNNCTG",rcut:3,fcut:6},ApaI:{rseq:"GGGCCC",rcut:1,fcut:5},ApaLI:{rseq:"GTGCAC",rcut:5,fcut:1},ApoI:{rseq:"RAATTY",rcut:5,fcut:1},AseI:{rseq:"ATTAAT",rcut:4,fcut:2},AvaI:{rseq:"CYCGRG",rcut:5,fcut:1},AvrII:{rseq:"CCTAGG",rcut:5,fcut:1},BaeGI:{rseq:"GKGCMC",rcut:1,fcut:5},BamHI:{rseq:"GGATCC",rcut:5,fcut:1},BanI:{rseq:"GGYRCC",rcut:5,fcut:1},BanII:{rseq:"GRGCYC",rcut:1,fcut:5},BbsI:{rseq:"GAAGACNNNNNN",rcut:12,fcut:8},BcgI:{rseq:"NNNNNNNNNNNNCGANNNNNNTGCNNNNNNNNNNNN",rcut:34,fcut:36},BciVI:{rseq:"GTATCCNNNNNN",rcut:11,fcut:12},BclI:{rseq:"TGATCA",rcut:5,fcut:1},BfuAI:{rseq:"ACCTGCNNNNNNNN",rcut:14,fcut:10},BglI:{rseq:"GCCNNNNNGGC",rcut:4,fcut:7},BglII:{rseq:"AGATCT",rcut:5,fcut:1},BlpI:{rseq:"GCTNAGC",rcut:5,fcut:2},BmgBI:{rseq:"CACGTC",rcut:3,fcut:3},BmrI:{rseq:"ACTGGGNNNNN",rcut:10,fcut:11},BmtI:{rseq:"GCTAGC",rcut:1,fcut:5},BpmI:{rseq:"CTGGAGNNNNNNNNNNNNNNNN",rcut:20,fcut:22},Bpu10I:{rseq:"CCTNAGC",rcut:5,fcut:2},BpuEI:{rseq:"CTTGAGNNNNNNNNNNNNNNNN",rcut:20,fcut:22},BsaAI:{rseq:"YACGTR",rcut:3,fcut:3},BsaBI:{rseq:"GATNNNNATC",rcut:5,fcut:5},BsaHI:{rseq:"GRCGYC",rcut:4,fcut:2},BsaI:{rseq:"GGTCTCNNNNN",rcut:11,fcut:7},BsaWI:{rseq:"WCCGGW",rcut:5,fcut:1},BsaXI:{rseq:"NNNNNNNNNNNNACNNNNNCTCCNNNNNNNNNN",rcut:30,fcut:33},BseRI:{rseq:"GAGGAGNNNNNNNNNN",rcut:14,fcut:16},BseYI:{rseq:"CCCAGC",rcut:5,fcut:1},BsgI:{rseq:"GTGCAGNNNNNNNNNNNNNNNN",rcut:20,fcut:22},BsiEI:{rseq:"CGRYCG",rcut:2,fcut:4},BsiHKAI:{rseq:"GWGCWC",rcut:1,fcut:5},BsiWI:{rseq:"CGTACG",rcut:5,fcut:1},BsmBI:{rseq:"CGTCTCNNNNN",rcut:11,fcut:7},BsmI:{rseq:"GAATGCN",rcut:5,fcut:7},BsoBI:{rseq:"CYCGRG",rcut:5,fcut:1},Bsp1286I:{rseq:"GDGCHC",rcut:1,fcut:5},BspDI:{rseq:"ATCGAT",rcut:4,fcut:2},BspEI:{rseq:"TCCGGA",rcut:5,fcut:1},BspHI:{rseq:"TCATGA",rcut:5,fcut:1},BspMI:{rseq:"ACCTGCNNNNNNNN",rcut:14,fcut:10},BsrBI:{rseq:"CCGCTC",rcut:3,fcut:3},BsrDI:{rseq:"GCAATGNN",rcut:6,fcut:8},BsrFI:{rseq:"RCCGGY",rcut:5,fcut:1},BsrGI:{rseq:"TGTACA",rcut:5,fcut:1},BssHII:{rseq:"GCGCGC",rcut:5,fcut:1},BssSI:{rseq:"CACGAG",rcut:5,fcut:1},BstAPI:{rseq:"GCANNNNNTGC",rcut:4,fcut:7},BstBI:{rseq:"TTCGAA",rcut:4,fcut:2},BstEII:{rseq:"GGTNACC",rcut:6,fcut:1},BstXI:{rseq:"CCANNNNNNTGG",rcut:4,fcut:8},BstYI:{rseq:"RGATCY",rcut:5,fcut:1},BstZ17I:{rseq:"GTATAC",rcut:3,fcut:3},Bsu36I:{rseq:"CCTNAGG",rcut:5,fcut:2},BtgI:{rseq:"CCRYGG",rcut:5,fcut:1},BtgZI:{rseq:"GCGATGNNNNNNNNNNNNNN",rcut:20,fcut:16},BtsI:{rseq:"GCAGTGNN",rcut:6,fcut:8},ClaI:{rseq:"ATCGAT",rcut:4,fcut:2},DraI:{rseq:"TTTAAA",rcut:3,fcut:3},DraIII:{rseq:"CACNNNGTG",rcut:3,fcut:6},DrdI:{rseq:"GACNNNNNNGTC",rcut:5,fcut:7},EaeI:{rseq:"YGGCCR",rcut:5,fcut:1},EagI:{rseq:"CGGCCG",rcut:5,fcut:1},EarI:{rseq:"CTCTTCNNNN",rcut:10,fcut:7},EciI:{rseq:"GGCGGANNNNNNNNNNN",rcut:15,fcut:17},Eco53kI:{rseq:"GAGCTC",rcut:3,fcut:3},EcoNI:{rseq:"CCTNNNNNAGG",rcut:6,fcut:5},EcoO109I:{rseq:"RGGNCCY",rcut:5,fcut:2},EcoRI:{rseq:"GAATTC",rcut:5,fcut:1},EcoRV:{rseq:"GATATC",rcut:3,fcut:3},Esp3I:{rseq:"CGTCTCNNNNN",rcut:11,fcut:7},FspI:{rseq:"TGCGCA",rcut:3,fcut:3},HaeII:{rseq:"RGCGCY",rcut:1,fcut:5},HincII:{rseq:"GTYRAC",rcut:3,fcut:3},HindIII:{rseq:"AAGCTT",rcut:5,fcut:1},HpaI:{rseq:"GTTAAC",rcut:3,fcut:3},KasI:{rseq:"GGCGCC",rcut:5,fcut:1},KpnI:{rseq:"GGTACC",rcut:1,fcut:5},MfeI:{rseq:"CAATTG",rcut:5,fcut:1},MluI:{rseq:"ACGCGT",rcut:5,fcut:1},MmeI:{rseq:"TCCRACNNNNNNNNNNNNNNNNNNNN",rcut:24,fcut:26},MscI:{rseq:"TGGCCA",rcut:3,fcut:3},MslI:{rseq:"CAYNNNNRTG",rcut:5,fcut:5},MspA1I:{rseq:"CMGCKG",rcut:3,fcut:3},NaeI:{rseq:"GCCGGC",rcut:3,fcut:3},NarI:{rseq:"GGCGCC",rcut:4,fcut:2},NcoI:{rseq:"CCATGG",rcut:5,fcut:1},NdeI:{rseq:"CATATG",rcut:4,fcut:2},NgoMIV:{rseq:"GCCGGC",rcut:5,fcut:1},NheI:{rseq:"GCTAGC",rcut:5,fcut:1},NmeAIII:{rseq:"GCCGAGNNNNNNNNNNNNNNNNNNNN",rcut:25,fcut:26},NruI:{rseq:"TCGCGA",rcut:3,fcut:3},NsiI:{rseq:"ATGCAT",rcut:1,fcut:5},NspI:{rseq:"RCATGY",rcut:1,fcut:5},PaeR7I:{rseq:"CTCGAG",rcut:5,fcut:1},PciI:{rseq:"ACATGT",rcut:5,fcut:1},PflFI:{rseq:"GACNNNGTC",rcut:5,fcut:4},PflMI:{rseq:"CCANNNNNTGG",rcut:4,fcut:7},PluTI:{rseq:"GGCGCC",rcut:1,fcut:5},PmlI:{rseq:"CACGTG",rcut:3,fcut:3},PshAI:{rseq:"GACNNNNGTC",rcut:5,fcut:5},PsiI:{rseq:"TTATAA",rcut:3,fcut:3},PspOMI:{rseq:"GGGCCC",rcut:5,fcut:1},PstI:{rseq:"CTGCAG",rcut:1,fcut:5},PvuI:{rseq:"CGATCG",rcut:2,fcut:4},PvuII:{rseq:"CAGCTG",rcut:3,fcut:3},SacI:{rseq:"GAGCTC",rcut:1,fcut:5},SacII:{rseq:"CCGCGG",rcut:2,fcut:4},SalI:{rseq:"GTCGAC",rcut:5,fcut:1},ScaI:{rseq:"AGTACT",rcut:3,fcut:3},SfcI:{rseq:"CTRYAG",rcut:5,fcut:1},SfoI:{rseq:"GGCGCC",rcut:3,fcut:3},SmaI:{rseq:"CCCGGG",rcut:3,fcut:3},SmlI:{rseq:"CTYRAG",rcut:5,fcut:1},SnaBI:{rseq:"TACGTA",rcut:3,fcut:3},SpeI:{rseq:"ACTAGT",rcut:5,fcut:1},SphI:{rseq:"GCATGC",rcut:1,fcut:5},SspI:{rseq:"AATATT",rcut:3,fcut:3},StuI:{rseq:"AGGCCT",rcut:3,fcut:3},StyI:{rseq:"CCWWGG",rcut:5,fcut:1},TspMI:{rseq:"CCCGGG",rcut:5,fcut:1},Tth111I:{rseq:"GACNNNGTC",rcut:5,fcut:4},XbaI:{rseq:"TCTAGA",rcut:5,fcut:1},XcmI:{rseq:"CCANNNNNNNNNTGG",rcut:7,fcut:8},XhoI:{rseq:"CTCGAG",rcut:5,fcut:1},XmaI:{rseq:"CCCGGG",rcut:5,fcut:1},XmnI:{rseq:"GAANNNNTTC",rcut:5,fcut:5},ZraI:{rseq:"GACGTC",rcut:3,fcut:3},AlwI:{rseq:"GGATCNNNNN",rcut:10,fcut:9},ApeKI:{rseq:"GCWGC",rcut:4,fcut:1},AvaII:{rseq:"GGWCC",rcut:4,fcut:1},BbvI:{rseq:"GCAGCNNNNNNNNNNNN",rcut:17,fcut:13},BccI:{rseq:"CCATCNNNNN",rcut:10,fcut:9},BceAI:{rseq:"ACGGCNNNNNNNNNNNNNN",rcut:19,fcut:17},BcoDI:{rseq:"GTCTCNNNNN",rcut:10,fcut:6},BsmAI:{rseq:"GTCTCNNNNN",rcut:10,fcut:6},BsmFI:{rseq:"GGGACNNNNNNNNNNNNNN",rcut:19,fcut:15},BspCNI:{rseq:"CTCAGNNNNNNNNN",rcut:12,fcut:14},BsrI:{rseq:"ACTGGN",rcut:4,fcut:6},BstNI:{rseq:"CCWGG",rcut:3,fcut:2},BtsCI:{rseq:"GGATGNN",rcut:5,fcut:7},BtsIMutI:{rseq:"CAGTGNN",rcut:5,fcut:7},DpnI:{rseq:"GmATC",rcut:3,fcut:3},FauI:{rseq:"CCCGCNNNNNN",rcut:11,fcut:9},FokI:{rseq:"GGATGNNNNNNNNNNNNN",rcut:18,fcut:14},HgaI:{rseq:"GACGCNNNNNNNNNN",rcut:15,fcut:10},HphI:{rseq:"GGTGANNNNNNNN",rcut:12,fcut:13},Hpy99I:{rseq:"CGWCG",rcut:0,fcut:5},HpyAV:{rseq:"CCTTCNNNNNN",rcut:10,fcut:11},LpnPI:{rseq:"CmCDGNNNNNNNNNNNNNN",rcut:19,fcut:15},MboII:{rseq:"GAAGANNNNNNNN",rcut:12,fcut:13},MlyI:{rseq:"GAGTCNNNNN",rcut:10,fcut:10},NciI:{rseq:"CCSGG",rcut:3,fcut:2},PleI:{rseq:"GAGTCNNNNN",rcut:10,fcut:9},PspGI:{rseq:"CCWGG",rcut:5,fcut:0},SfaNI:{rseq:"GCATCNNNNNNNNN",rcut:14,fcut:10},TfiI:{rseq:"GAWTC",rcut:4,fcut:1},TseI:{rseq:"GCWGC",rcut:4,fcut:1},Tsp45I:{rseq:"GTSAC",rcut:5,fcut:0},TspRI:{rseq:"NNCASTGNN",rcut:0,fcut:9},AciI:{rseq:"CCGC",rcut:3,fcut:1},AluI:{rseq:"AGCT",rcut:2,fcut:2},BfaI:{rseq:"CTAG",rcut:3,fcut:1},BsaJI:{rseq:"CCNNGG",rcut:5,fcut:1},BslI:{rseq:"CCNNNNNNNGG",rcut:4,fcut:7},BstUI:{rseq:"CGCG",rcut:2,fcut:2},Cac8I:{rseq:"GCNNGC",rcut:3,fcut:3},CviAII:{rseq:"CATG",rcut:3,fcut:1},"CviKI-1":{rseq:"RGCY",rcut:2,fcut:2},CviQI:{rseq:"GTAC",rcut:3,fcut:1},DdeI:{rseq:"CTNAG",rcut:4,fcut:1},DpnII:{rseq:"GATC",rcut:4,fcut:0},FatI:{rseq:"CATG",rcut:4,fcut:0},Fnu4HI:{rseq:"GCNGC",rcut:3,fcut:2},HaeIII:{rseq:"GGCC",rcut:2,fcut:2},HhaI:{rseq:"GCGC",rcut:1,fcut:3},HinP1I:{rseq:"GCGC",rcut:3,fcut:1},HinfI:{rseq:"GANTC",rcut:4,fcut:1},HpaII:{rseq:"CCGG",rcut:3,fcut:1},Hpy166II:{rseq:"GTNNAC",rcut:3,fcut:3},Hpy188I:{rseq:"TCNGA",rcut:2,fcut:3},Hpy188III:{rseq:"TCNNGA",rcut:4,fcut:2},HpyCH4III:{rseq:"ACNGT",rcut:2,fcut:3},HpyCH4IV:{seq:"ACGT",rcut:3,fcut:1},HpyCH4V:{rseq:"TGCA",rcut:2,fcut:2},MboI:{rseq:"GATC",rcut:4,fcut:0},MluCI:{rseq:"AATT",rcut:4,fcut:0},MnlI:{rseq:"CCTCNNNNNNN",rcut:10,fcut:11},MseI:{rseq:"TTAA",rcut:3,fcut:1},MspI:{rseq:"CCGG",rcut:3,fcut:1},MwoI:{rseq:"GCNNNNNNNGC",rcut:4,fcut:7},NlaIII:{rseq:"CATG",rcut:0,fcut:4},NlaIV:{rseq:"GGNNCC",rcut:3,fcut:3},RsaI:{rseq:"GTAC",rcut:2,fcut:2},Sau3AI:{rseq:"GATC",rcut:4,fcut:0},Sau96I:{rseq:"GGNCC",rcut:4,fcut:1},ScrFI:{rseq:"CCNGG",rcut:3,fcut:2},StyD4I:{rseq:"CCNGG",rcut:5,fcut:0},TaqI:{rseq:"TCGA",rcut:3,fcut:1},AbaSI:{rseq:"hmCNNNNNNNNNNN",rcut:12,fcut:14},FspEI:{rseq:"CmCNNNNNNNNNNNNNNNN",rcut:19,fcut:15},MspJI:{rseq:"mCNNRNNNNNNNNNNNNN",rcut:18,fcut:14}};function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var zt=function t(c,a){if(c===a)return!0;if("object"!==Lt(c)||null===c||"object"!==Lt(a)||null===a)return!1;if(Object.keys(c).length!==Object.keys(a).length)return!1;for(var e in c){if(!a.hasOwnProperty(e))return!1;if(!t(c[e],a[e]))return!1}return!0};function Wt(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Ft(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Wt(Object(a),!0).forEach((function(c){Ut(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wt(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function Ut(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var Ht=function(t,c,a,e){var r=3<arguments.length&&void 0!==e?e:null,n=t.fcut,g=t.rcut,o=t.rseq;if(!o){var i=Mt[t];n=i.fcut,g=i.rcut,o=i.rseq}for(var u=o.toUpperCase(),s=0,f=u.length;"N"===u[s];)s+=1;for(;"N"===u[f-1];)f-=1;var l=o.length,p=new RegExp(/[^ATGC]/,"gi");p.test(o)&&(o=Object(S.k)(o));for(var h=new RegExp(o,"gi"),d=[],b=0,m=h.exec(c),v=m?m.index:-1;-1<v&&v<a;)d.push({cutEnzymes:r?{start:[r],end:[r]}:null,fcut:v+n,rcut:v+g,start:v,end:v+l,recogStrand:1,recogStart:v+s,recogEnd:v+f}),b=v+1,v=c.indexOf(o,b);var w=o.split("").reverse().join(""),O=Object(y.b)(w).compSeq;p.test(O)&&(O=Object(S.k)(O));var N=l-n,C=l-g;for(b=0,v=(m=h.exec(c))?m.index:-1;-1<v&&v<a;)d.push({cutEnzymes:r?{start:[r],end:[r]}:null,fcut:v+l-N,rcut:v+l-C,start:v,end:v+l,recogStrand:-1,recogStart:v+s,recogEnd:v+f}),b=v+1,v=c.indexOf(O,b);var A=Object.values(d.reduce((function(t,c){return Ft(Ut({},c.fcut,c),t)}),{}));return A.sort((function(t,c){return t.fcut-c.fcut})),A},Yt=function(t,c,a,e){if(0<a)return Xt(t,c,a,e);for(var r=c.length,n=Object(S.k)(t).trim(),g=new RegExp(n,"gi"),o=g.exec(c),i=[];o;){var u=o.index%r,s=(u+t.length)%r||r;i.push({start:u,end:s,direction:e?1:-1}),o=g.exec(c)}return i},Xt=function(t,c,a,e){for(var r=[],n=0;n<c.length-t.length;n+=1){for(var g=0,o=0;o<t.length;o+=1){var i=c[n+o],u=t[o];if(S.g[u]?i!==u&&(g+=1):S.f[u]&&(S.f[u][i]||(g+=1)),a<g)break}if(g<=a){var s=(n+t.length)%c.length||c.length;r.push({start:n,end:s,direction:e?1:-1})}}return r},Vt=e.createContext({linear:0,circular:0,setCentralIndex:function(){}});Vt.displayName="CentralIndexContext";var Kt=Vt;function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(){return(Jt=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function $t(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Qt(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?$t(Object(a),!0).forEach((function(c){rc(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$t(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function tc(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function cc(t,c){return(cc=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function ac(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ec(t){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rc(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var nc={ref:null,name:"",seq:"",gc:0,tm:0,type:"",start:0,end:0,length:0,clockwise:!0},gc=e.createContext(nc);function oc(t){var c,a;return a=c=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&cc(t,c)}(a,e.Component);var c=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=ec(t);if(c){var r=ec(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Zt(c)&&"function"!=typeof c?ac(t):c}(this,a)}}(a);function a(){var t;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return rc(ac(t=c.call.apply(c,[this].concat(r))),"state",Qt({},nc)),rc(ac(t),"previousBase",null),rc(ac(t),"forward",null),rc(ac(t),"fullSelectionLength",0),rc(ac(t),"dragEvent",!1),rc(ac(t),"selectionStarted",!1),rc(ac(t),"shiftSelection",!1),rc(ac(t),"idToRange",new Map),rc(ac(t),"componentDidMount",(function(){document.addEventListener("mouseup",t.stopDrag)})),rc(ac(t),"componentWillUnmount",(function(){document.removeEventListener("mouseup",t.stopDrag)})),rc(ac(t),"stopDrag",(function(){t.dragEvent=!1})),rc(ac(t),"resetCircleDragVars",(function(c){t.previousBase=c,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!0})),rc(ac(t),"inputRef",(function(c,a){t.idToRange.set(c,Qt({ref:c},a))})),rc(ac(t),"removeMountedBlock",(function(c){t.idToRange.delete(c)})),rc(ac(t),"mouseEvent",(function(c){var a=t.props,e=a.Circular,r=a.Linear;if("mousemove"!==c.type&&"mouseup"!==c.type||t.dragEvent){var n=t.dragEvent?t.idToRange.get(c.currentTarget.id):t.idToRange.get(c.target.id)||t.idToRange.get(c.currentTarget.id);if(n){var g=n.start,o=n.end,i=n.direction,u=n.element;switch(n.type){case"ANNOTATION":case"PRIMER":case"FIND":case"TRANSLATION":case"ENZYME":r||t.props.setCentralIndex("linear",g);var s=!i||1===i,f=s?g:o,l=s?o:g;t.setSelection(Qt(Qt(Qt({},u),n),{},{start:f,end:l,clockwise:s})),t.dragEvent=!1;break;case"SEQ":r?t.linearSeqEvent(c,n):e&&t.circularSeqEvent(c)}}}})),rc(ac(t),"linearSeqEvent",(function(c,a){var e=t.props.selection,r=t.calculateBaseLinear(c,a),n=null!==e.start&&r>=e.start;"mousedown"===c.type&&null!==r?(t.setSelection(Qt(Qt({},nc),{},{start:c.shiftKey?e.start:r,end:r,clockwise:n})),t.dragEvent=!0):t.dragEvent&&null!==r&&t.setSelection(Qt(Qt({},nc),{},{start:e.start,end:r,clockwise:n}))})),rc(ac(t),"circularSeqEvent",(function(c){var a=t.props,e=a.seq,r=a.selection,n=r.start,g=r.end,o=r.clockwise,i=r.currRef,u=t.calculateBaseCircular(c),s=i,f=e.length;if("mousedown"===c.type){var l=c.shiftKey?n:u,p=c.shiftKey?t.calcSelectionLength(l,u,!1):t.calcSelectionLength(l,u,!0);t.selectionStarted=0<p,t.resetCircleDragVars(l),t.setSelection(Qt(Qt({},nc),{},{start:l,end:u,ref:"",clockwise:o}))}else if("mousemove"===c.type&&t.dragEvent&&u&&u!==t.previousBase){var h=u>t.previousBase,d=.9*f,y=Math.abs(t.previousBase-u),b=d<y;t.forward=h?!b:b;var m=b?f-y:y,v=t.forward===t.props.selection.clockwise||null===t.props.selection.clockwise;if(v?t.fullSelectionLength+=m:t.fullSelectionLength-=m,t.previousBase=u,t.fullSelectionLength<.01*f&&!t.shiftSelection){o=t.forward;var w=t.calcSelectionLength(t.props.selection.start,u,t.forward);t.fullSelectionLength<0&&(t.fullSelectionLength=w),w>t.fullSelectionLength&&(o=!t.forward),g=u,s=""}v=t.forward===t.props.selection.clockwise;var O=t.calcSelectionLength(t.props.selection.start,u,t.props.selection.clockwise);t.selectionStarted&&t.shiftSelection&&O>t.fullSelectionLength&&(t.fullSelectionLength=O);var N=t.dragEvent&&v,C="ALL"===i,A=!C&&t.fullSelectionLength>=f;N&&A?(s="ALL",g=n):C?(t.fullSelectionLength=f+t.fullSelectionLength%f,s="ALL",!N&&O===t.fullSelectionLength-f&&.9*f<O&&(g=u,s="",t.fullSelectionLength=t.fullSelectionLength-f)):(g=u,s=""),t.shiftSelection=!1,t.setSelection(Qt(Qt({},nc),{},{start:n,end:g,ref:s,clockwise:o}))}})),rc(ac(t),"calculateBaseLinear",(function(c,a){var e=t.props,r=e.size,n=e.bpsPerBlock,g=r.width,o=c.currentTarget.getBoundingClientRect(),i=(c.clientX-o.left)/g,u=Math.round(i*n);return a.start+u})),rc(ac(t),"calculateBaseCircular",(function(c){var a=t.props,e=a.center,r=a.centralIndex,n=a.seq,g=a.yDiff;if(!e)return 0;var o=c.currentTarget.getBoundingClientRect(),i=c.clientX-o.left,u=c.clientY-o.top,s=i-e.x,f=(u-(e.y+g))/s,l=Math.atan(f)*(180/Math.PI)+90;s<0&&(l+=180);var p=l/360,h=Math.round(n.length*p);return(h+=r)>n.length&&(h-=n.length),h})),rc(ac(t),"setSelection",(function(c){var a=t.props.setSelection;if(c.start!==t.props.selection.start||c.end!==t.props.selection.end||c.ref!==t.props.selection.ref){var e=Qt(Qt({},t.props.selection),c),r=e.clockwise,n=e.start,g=e.end,o=e.ref,i=e.type,u=e.element,s=t.calcSelectionLength(n,g,r),f=t.getSelectedSequence(n,g,r);a({ref:o,seq:f,gc:Object(S.b)(f),tm:Object(S.c)(f),type:i,start:n,end:g,length:s,clockwise:r,element:u})}})),rc(ac(t),"getSelectedSequence",(function(c,a,e){var r=t.props.seq;return a<c&&!e?r.substring(a,c):c<a&&!e?r.substring(a,r.length)+r.substring(0,c):c<a&&e?r.substring(c,a):a<c&&e?r.substring(c,r.length)+r.substring(0,a):""})),rc(ac(t),"calcSelectionLength",(function(c,a,e){var r=t.props.seq;return a<c&&!e?c-a:c<a&&!e?c+(r.length-a):c<a&&e?a-c:a<c&&e?r.length-c+a:0})),t}return function(t,c,a){c&&tc(t.prototype,c)}(a,[{key:"render",value:function(){return e.createElement(t,Jt({},this.props,{inputRef:this.inputRef,mouseEvent:this.mouseEvent,onUnmount:this.removeMountedBlock}))}}]),a}(),rc(c,"displayName","SelectionHandler"),a}gc.displayName="SelectionContext";var ic=a(14),uc=a.n(ic);function sc(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function fc(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?sc(Object(a),!0).forEach((function(c){lc(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sc(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function lc(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function pc(t,c){var a=Object(y.b)(c),e=a.seq,r=a.compSeq;return dc(t,e,1).concat(dc(t,r,-1))}function hc(t,c){var a=t,e=Object(S.i)(Object(S.e)(t,c));if(0<e.length){for(var r=0;r<e.length;){var n=e.slice(0,e.length-r);if(n.length<2)break;if(.25<n.reduce((function(t,c){return t+(c[1]+1-c[0])}),0)/t.slice(0,n[n.length-1][1]+1).length){e=e.slice(e.length-r,e.length).concat([[0,e[e.length-1-r][1]]]),a=t.slice(e[e.length-1][1]+1);break}r+=1}a=t.slice(e[e.length-1][1]+1)}return{mismatches:e=e.map((function(t){return{start:t[0],end:t[1]+1}})),annealSequence:a}}var dc=function(t,c,a){var e=1<arguments.length?c:void 0,r=2<arguments.length?a:void 0,n=[],g=1===r;return(0<arguments.length&&void 0!==t?t:[]).forEach((function(t){var c=t.overhang,a=void 0===c?"":c,o=t.seq,i=t.strict;if(i=i||!1,""!==o){var u=(o=o.toLowerCase()).length,s=e.toLowerCase(),f=s.length,l=s+s.substring(0,u),p=o,h=[],d=h.mismatches,y=h.matchSeq;y=u<10?o:o.substring(u-10,u),y=g?y:Object(S.j)(y);for(var b=new RegExp(y,"gi"),m=b.exec(l),v=(a||"").concat(o);m;){if(m.index<f){var w=g?m.index+y.length-u<0:m.index+u>f,O=g?f-(m.index+y.length)<0:m.index+y.length>f,N=w||O,C=g?m.index-u+y.length:m.index,A=C+u,j=s.substring(C,A);N&&(g&&(C=w?f-(u-m.index-y.length):m.index-u+y.length),A=u-(f-C),j=s.substring(C,f)+s.substring(0,A)),j=g?j:Object(S.j)(j);var P=Object(S.c)(o,j);(P>=t.tm||40<P)&&(g&&A<f||C<f)&&m.index<f&&function(){if(a){g&&(C-=a.length)<0&&(C=f+C),g||(A+=a.length,f<A&&(A-=f));var c=hc(v,"X".repeat(a.length).concat(j)),e=c.mismatches;d=void 0===e?[]:e;var u=c.annealSequence;p=void 0===u?"":u,d[0]&&d[0].start-a.length==0?d[0].start=0:d.push({start:0,end:a.length})}else{var s=hc(o,j),l=s.mismatches;d=void 0===l?[]:l;var h=s.annealSequence;p=void 0===h?"":h}var y={};d=d.sort((function(t,c){return t.start<c.start})).map((function(t){return{id:"".concat(t.start,"-").concat(t.end),start:t.start,end:t.end}})).filter((function(t){return!y[t.id]&&(y[t.id]=!0)})).map((function(t){return{start:t.start,end:t.end}})),(i&&d.length<1||!i)&&n.push(fc(fc({},t),{},{id:"".concat(t.id,"-").concat(C),seq:v,start:C,end:A,direction:r,mismatches:d,annealSequence:p,strict:i}))}()}m=b.exec(l)}}})),n};function yc(t){return function(t){if(Array.isArray(t))return bc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,c){if(t){if("string"==typeof t)return bc(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?bc(t,c):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bc(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function mc(t){return t[t.length-1]}function vc(t,c){var a=yc(t);return a.sort((function(t,c){return"insert"===t.type&&t.start===c.start?-1:"insert"===c.type&&t.start===c.start?1:t.start-c.start})),a.reduce((function(t,a){var e=t.findIndex((function(t){return a.end!==a.start&&(mc(t).end<=mc(t).start?mc(t).end+c<=a.start:a.end>a.start?mc(t).end<=a.start:mc(t).end<a.start&&a.end<function(t){return t[0]}(t).start)})),r=yc(t);return-1<e?r[e].push(a):r.push([a]),r}),[])}function wc(t,c,a){for(var e=new Array(a),r=0;r<a;r+=1){e[r]=[];for(var n=0;n<t.length;n+=1)e[r][n]=[]}for(var g=0;g<t.length;g+=1)for(var o=0;o<t[g].length;o+=1)if(t[g][o].start<t[g][o].end)for(var i=Math.max(0,Math.floor(t[g][o].start/c)),u=Math.floor((t[g][o].end-1)/c);i<=u&&i<a;)e[i][g].push(t[g][o]),i+=1;else if(t[g][o].end<t[g][o].start){var s=Math.floor(t[g][o].end/c);for(0===t[g][o].end&&(s=-1);0<=s&&s<e.length;)e[s][g].push(t[g][o]),s-=1;for(var f=Math.floor(t[g][o].start/c);f<a;)e[f][g].push(t[g][o]),f+=1}else if(t[g][o].end===t[g][o].start){for(var l=0;l<e.length;l+=1)e[l][g].push(t[g][o]);if(0===t[g][o].end)continue;e[Math.floor(t[g][o].start/c)][g].push(t[g][o])}for(var p=0;p<a;p+=1)e[p]=e[p].filter((function(t){return t[0]}));return e}function Oc(t,c,a,e){for(var r=!(3<arguments.length&&void 0!==e)||e,n=new Array(a),g=0;g<a;g+=1)n[g]=[];for(var o=function(e){var g=t[e],o=g.start,i=g.end;if(void 0!==t[e].fcut){var u=t[e],s=u.fcut,f=u.rcut;o=i<s||s<o?s:o,i=i<f||f<o?f:i}if(o<i)for(var l=Math.floor(o/c),p=Math.floor(i/c);l<=p&&l<a;)n[l].push(t[e]),l+=1;else{for(var h=Math.floor(i/c);0<=h;)n[h].push(t[e]),h-=1;for(var d=Math.floor(o/c);d<a;)(r||n[d].every((function(c){return c.id!==t[e].id})))&&n[d].push(t[e]),d+=1}},i=0;i<t.length;i+=1)o(i);return n}function Nc(t){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(){return(Cc=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Ac(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Sc(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Ac(Object(a),!0).forEach((function(c){Gc(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ac(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function jc(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function Pc(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function xc(t,c){return(xc=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Ec(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tc(t){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gc(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function Rc(t){var c,a;return a=c=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&xc(t,c)}(a,e.PureComponent);var c=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Tc(t);if(c){var r=Tc(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Nc(c)&&"function"!=typeof c?Ec(t):c}(this,a)}}(a);function a(){var t;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Gc(Ec(t=c.call.apply(c,[this].concat(r))),"clickedOnce",null),Gc(Ec(t),"clickedTwice",null),Gc(Ec(t),"componentDidMount",(function(){window.addEventListener("keydown",t.handleKeyPress)})),Gc(Ec(t),"componentWillUnmount",(function(){window.removeEventListener("keydown",t.handleKeyPress)})),Gc(Ec(t),"setEventRouter",(function(c){t.eventRouter=c})),Gc(Ec(t),"handleKeyPress",(function(c){var a=t.keypressMap(c);a&&t.handleSeqInteraction(a)})),Gc(Ec(t),"keypressMap",(function(c){if((0,t.props.copyEvent)(c))return"Copy";var a=c.key,e=c.shiftKey;switch(a){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return e?"Shift".concat(a):a;default:return null}})),Gc(Ec(t),"handleSeqInteraction",function(){var c=function(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){jc(n,e,r,g,o,"next",t)}function o(t){jc(n,e,r,g,o,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function c(a){var e,r,n,g,o,i,u,s,f,l,p,h,d,y;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:e=t.props,r=e.seq,n=e.Linear,g=r.length,o=t.props.bpsPerBlock,i=void 0===o?Math.max(Math.floor(g/20),1):o,c.t0=a,c.next="SelectAll"===c.t0?6:"Copy"===c.t0?8:"ArrowUp"===c.t0?10:"ArrowRight"===c.t0?10:"ArrowDown"===c.t0?10:"ArrowLeft"===c.t0?10:"ShiftArrowUp"===c.t0?10:"ShiftArrowRight"===c.t0?10:"ShiftArrowDown"===c.t0?10:"ShiftArrowLeft"===c.t0?10:23;break;case 6:return t.selectAllHotkey(),c.abrupt("break",24);case 8:return t.handleCopy(),c.abrupt("break",24);case 10:if(u=t.props,s=u.selection,f=u.setSelection,l=s.start,p=s.end,n)return h=s.clockwise,d=p,"ArrowUp"===a||"ShiftArrowUp"===a?d-=1<g/i?i:1:"ArrowRight"===a||"ShiftArrowRight"===a?d+=1:"ArrowDown"===a||"ShiftArrowDown"===a?d+=1<g/i?i:1:"ArrowLeft"!==a&&"ShiftArrowLeft"!==a||(d-=1),d<=-1&&(d=g+d),g+1<=d&&(d-=g),y=Math.abs(l-p),h=0===y?"ArrowRight"===a||"ShiftArrowRight"===a||"ArrowDown"===a||"ShiftArrowDown"===a:h,d===l||a.startsWith("Shift")?a.startsWith("Shift")&&f({start:l,end:d,clockwise:h,ref:""}):f({start:d,end:d,clockwise:!0,ref:""}),c.abrupt("break",24);c.next=22;break;case 22:case 23:return c.abrupt("break",24);case 24:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()),Gc(Ec(t),"handleCopy",(function(){var c=t.props,a=c.seq,e=c.selection,r=e.start,n=e.end,g=e.ref,o=document.activeElement,i=document.createElement("textarea");i.innerText="ALL"===g?a:a.substring(r,n),document.body&&document.body.appendChild(i),i.select(),document.execCommand("copy"),i.remove(),o&&o.focus()})),Gc(Ec(t),"selectAllHotkey",(function(){var c=t.props,a=c.setSelection,e=c.selection,r=c.selection.start;a(Sc(Sc({},e),{},{start:r,end:r,clockwise:!0,ref:"ALL"}))})),Gc(Ec(t),"handleTripleClick",(function(){t.selectAllHotkey()})),Gc(Ec(t),"resetClicked",function(t,c){var a,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(){var r=this,n=arguments,g=e&&!a;clearTimeout(a),a=setTimeout((function(){a=null,e||t.apply(r,n)}),c),g&&t.apply(r,n)}}((function(){t.clickedOnce=null,t.clickedTwice=null}),250)),Gc(Ec(t),"handleMouseEvent",(function(c){var a=t.props.mouseEvent;"mouseup"===c.type&&(t.resetClicked(),t.clickedOnce===c.target&&t.clickedTwice===c.target?t.handleTripleClick():t.clickedOnce===c.target&&null===t.clickedTwice?(t.clickedOnce=c.target,t.clickedTwice=c.target):t.clickedOnce=c.target,t.resetClicked());var e=c.type,r=c.button,n=c.ctrlKey,g="mousedown"===e&&0===r&&n;0!==c.button||g||a(c)})),Gc(Ec(t),"handleScrollEvent",(function(c){var a=t.props,e=a.Linear,r=a.seq;if(!e){var n=r.length*(c.deltaY/5e3);0===(n=Math.floor(n))&&(n=0<c.deltaY?1:-1);var g=t.context.circular+n;g=(g+r.length)%r.length,t.context.setCentralIndex("circular",g)}})),Gc(Ec(t),"eventRouter",void 0),t}return function(t,c,a){c&&Pc(t.prototype,c)}(a,[{key:"render",value:function(){var c=this,a=this.props,r=a.mouseEvent,n=(a.selection,a.setSelection,a.centralIndex,a.setCentralIndex,function(t,c){if(null==t)return{};var a,e,r=function(t,c){if(null==t)return{};var a,e,r={},n=Object.keys(t);for(e=0;e<n.length;e++)a=n[e],0<=c.indexOf(a)||(r[a]=t[a]);return r}(t,c);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(e=0;e<n.length;e++)a=n[e],0<=c.indexOf(a)||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}(a,["mouseEvent","selection","setSelection","centralIndex","setCentralIndex"])),g=this.props,o=g.Circular,i=g.name,u="la-vz-".concat(o?"circular":"linear","-").concat(i.replace(/\s/g,""),"-event-router");return e.createElement("div",{id:u,className:"la-vz-viewer-event-router",onKeyDown:this.handleKeyPress,onMouseMove:r,onWheel:this.handleScrollEvent,role:"presentation",ref:function(t){c.eventRouter=t}},e.createElement(t,Cc({},n,{mouseEvent:this.handleMouseEvent})))}}]),a}(),Gc(c,"displayName","EventRouter"),Gc(c,"contextType",Kt),a}function qc(t){return function(t){return oc(t)}(function(t){return Rc(t)}(t))}function Ic(t){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kc(){return(kc=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function _c(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Bc(t,c){return(Bc=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Dc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mc(t){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lc=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Bc(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Mc(t);if(c){var r=Mc(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Ic(c)&&"function"!=typeof c?Dc(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t,c,a){c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a}(Dc(a=t.call.apply(t,[this].concat(r))),"hoverAnnotation",(function(t,c){for(var a=document.getElementsByClassName(t),e=0;e<a.length;e+=1)a[e].style.fillOpacity=c})),a}return function(t,c,a){c&&_c(t.prototype,c)}(c,[{key:"render",value:function(){var t=this,c=this.props,a=c.radius,r=c.rowsToSkip,n=c.lineHeight,g=c.annotations,o=a-3*n-n*r,i=o-n,u={strokeWidth:.5,shapeRendering:"geometricPrecision",cursor:"pointer",fillOpacity:.7,strokeLinejoin:"round"},s={stroke:"transparent",fill:"transparent"},f={cursor:"pointer"};return e.createElement(Kt.Consumer,null,(function(c){var a=c.circular;return e.createElement("g",{className:"la-vz-circular-annotations"},g.reduce((function(c,r,g){return g&&(o-=n+3,i-=n+3),c.concat(r.map((function(c){return e.createElement(zc,kc({},t.props,{key:"la-vz-".concat(c.id,"-annotation-circular-row"),id:"la-vz-".concat(c.id,"-annotation-circular-row"),annotation:c,currBRadius:o,currTRadius:i,transparentPath:s,labelStyle:f,annStyle:u,hoverAnnotation:t.hoverAnnotation,calcBorderColor:d.f,centralIndex:a}))})))}),[]))}))}}]),c}(),zc=function(t){var c=t.annotation,a=t.seqLength,r=t.getRotation,n=t.generateArc,g=t.currBRadius,o=t.currTRadius,i=t.centralIndex,u=t.lineHeight,s=t.transparentPath,f=t.inputRef,l=t.calcBorderColor,p=t.hoverAnnotation,h=t.annStyle,y=t.inlinedAnnotations,b=t.labelStyle,m=c.end>=c.start?c.end-c.start:a-c.start+c.end;m=0===m?a-.1:m;var v=r(c.start);if(g<0||o<0)return null;var w=(m/2+c.start+a-i)%a,O=.25*a<w&&w<.75*a,N=n({innerRadius:g,outerRadius:o,length:m,largeArc:a/2<m,sweepFWD:!0,arrowFWD:1===c.direction,arrowREV:-1===c.direction}),C=n({innerRadius:O?g:o,outerRadius:O?g:o,length:m,largeArc:a/2<m,sweepFWD:!0,arrowFWD:!1,arrowREV:!1}),A="la-vz-".concat(c.id,"-circular");return e.createElement("g",{id:"la-vz-".concat(c.id,"-annotation-circular"),transform:v},e.createElement("path",kc({id:A,d:C},s)),e.createElement("path",kc({d:N,id:c.id,className:c.id,ref:f(c.id,{ref:c.id,start:c.start,end:c.end,type:"ANNOTATION",direction:c.direction}),fill:c.color,stroke:d.b[c.color]||l(c.color),onMouseOver:function(){return p(c.id,1)},onMouseOut:function(){return p(c.id,.7)},onFocus:function(){},onBlur:function(){}},h)),y.includes(c.id)&&e.createElement("text",{id:c.id,dy:-.4*u,onMouseOver:function(){return p(c.id,1)},onMouseOut:function(){return p(c.id,.7)},onFocus:function(){},onBlur:function(){}},e.createElement("textPath",kc({id:c.id,textAnchor:"middle",startOffset:O?"25%":"75%",dominantBaseline:"middle",xlinkHref:"#".concat(A)},b),c.name)))};function Wc(t){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fc(){return(Fc=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Uc(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Hc(t,c){return(Hc=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Yc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xc(t){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vc(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var Kc=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Hc(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Xc(t);if(c){var r=Xc(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Wc(c)&&"function"!=typeof c?Yc(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return Vc(Yc(a=t.call.apply(t,[this].concat(n))),"calculateLinePath",(function(t,c,e){var r=a.props.findCoor,n=r(t,c),g=r(t,e);return"M ".concat(g.x," ").concat(g.y,"\n            L ").concat(n.x," ").concat(n.y)})),Vc(Yc(a),"displayCutSite",(function(t){var c=a.props,r=c.radius,n=c.lineHeight,g=c.seqLength,o=c.getRotation,i=c.inputRef,u=c.generateArc,s=t.id,f=t.start,l=t.fcut,p=t.rcut,h=t.end;h+p<f+l&&(h=h<f?h+g:h,p<l?p+=g:l+=g);var d=Math.abs(h-f),y=r+n;g<200&&(y+=2*n);var b=u({innerRadius:r,outerRadius:y,length:d,largeArc:g/2<d,sweepFWD:!0}),m=a.calculateLinePath(l-f,r+2*n,r+1.5*n),v=u({innerRadius:r+1.5*n,outerRadius:r+1.5*n,length:Math.abs(l-p),largeArc:Math.abs(l-p)>g/2,sweepFWD:!0,offset:Math.min(l,p)-f}),w=a.calculateLinePath(p-f,r+1.5*n,r+n/1.2),O={fill:"transparent",stroke:"black",strokeWidth:1,shapeRendering:"auto"};return e.createElement("g",{id:"la-vz-circular-cutsite-".concat(s),key:s,transform:o(f)},e.createElement("path",Fc({d:m},O)),e.createElement("path",Fc({d:v},O)),e.createElement("path",Fc({d:w},O)),e.createElement("path",Fc({},{stroke:"black",strokeWidth:1,fill:"rgba(255, 165, 0, 0.2)",shapeRendering:"auto",cursor:"pointer",fillOpacity:0},{d:b,className:s,ref:i(s,{ref:s,start:f,end:h,type:"ENZYME"})})))})),a}return function(t,c,a){c&&Uc(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props.cutSites;return t.length?e.createElement("g",{className:"la-vz-circular-cutsites"},t.map(this.displayCutSite)):null}}]),c}();function Zc(t){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jc(){return(Jc=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function $c(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Qc(t,c){return(Qc=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function ta(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ca(t){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aa=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Qc(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=ca(t);if(c){var r=ca(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Zc(c)&&"function"!=typeof c?ta(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return function(t,c,a){c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a}(ta(a=t.call.apply(t,[this].concat(n))),"createHighlight",(function(t){var c=a.props,r=c.radius,n=c.lineHeight,g=c.seqLength,o=c.getRotation,i=c.generateArc,u=c.inputRef,s=t.start,f=t.end;f<s&&(f+=g);var l=Math.abs(f-s),p=i({innerRadius:r-n/2,outerRadius:r+n/2,length:l,largeArc:g/2<l,sweepFWD:!0}),h="".concat(s).concat(f).concat(t.direction).concat(t.start);return e.createElement("path",Jc({key:h,id:h,d:p,transform:o(t.start),ref:u(h,{ref:h,start:t.start,end:t.end,type:"FIND"})},{stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1,fill:"rgba(255, 251, 7, 0.5)",shapeRendering:"auto",cursor:"pointer"}))})),a}return function(t,c,a){c&&$c(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.seqLength,a=t.search,r=!(200<=c)||a.length/c<=.02;return a.length?r&&e.createElement("g",{className:"la-vz-circular-search-results"},a.map(this.createHighlight)):null}}]),c}();function ea(t){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ra(){return(ra=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function na(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ga(t,c){return(ga=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function oa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ua(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var sa=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&ga(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=ia(t);if(c){var r=ia(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==ea(c)&&"function"!=typeof c?oa(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return ua(oa(a=t.call.apply(t,[this].concat(n))),"state",{ticks:[],indexInc:10}),ua(oa(a),"renderBasepairs",(function(){var t=a.props,c=t.seq,r=t.compSeq,n=t.seqLength,g=t.lineHeight,o=t.radius,i=t.findCoor,u=t.getRotation,s=a.state.indexInc,f=a.context.circular,l=c+c,p=r+r,h=f-5*s,d=f+5*s;f<n/2&&(h+=n,d+=n);for(var y=[],b=h;b<=d;b+=1)y.push(e.createElement("text",ra({key:"la-vz-base_".concat(b)},i(0,o+2*g),{transform:u(b+.25)}),l.charAt(b)),e.createElement("text",ra({key:"la-vz-base_comp_".concat(b)},i(0,o+g),{transform:u(b+.25)}),p.charAt(b)));return y})),a}return function(t,c,a){c&&na(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.seq,a=t.name,r=t.radius,n=t.center,g=t.size,o=t.yDiff,i=t.seqLength,u=t.lineHeight,s=t.getRotation,f=t.generateArc,l=t.findCoor,p=t.totalRows,h=t.showIndex,d=this.state.ticks;if(!h)return null;for(var y=r-p*u,b=[],m=0;m<a.length;)b.push(a.substring(m,m+30).trim()),m+=30;var v=14+20*b.length,w=y<b[0].length/2*12?{x:n.x,y:g.height-v-o}:{x:n.x,y:n.y-(b.length-1)/2*25},O=l(0,r),N=l(0,r-10),C={fill:"transparent",stroke:"#73777D",strokeWidth:3},A={fill:"transparent",stroke:"black",strokeWidth:1,shapeRendering:"geometricPrecision"},S={textAnchor:"middle",fontWeight:300},j=f({innerRadius:r,outerRadius:r,length:i/2,largeArc:!0});return e.createElement("g",{className:"la-vz-circular-index"},e.createElement("text",{fontSize:20,textAnchor:"middle",fontWeight:500},b.map((function(t,c){return e.createElement("tspan",{key:t,x:w.x,y:w.y+25*c},t)}))),e.createElement("text",ra({x:w.x,y:w.y+14+25*(b.length-1)},{fontSize:14,textAnchor:"middle",fill:"gray"}),"".concat(i," bp")),c.length<200?e.createElement("g",{className:"la-vz-circular-bps"},this.renderBasepairs()):null,d.map((function(t){return e.createElement("g",{key:"la-vz-".concat(t,"_tick"),transform:s(t-.5)},e.createElement("path",ra({d:"M ".concat(O.x," ").concat(O.y,"\n                L ").concat(N.x," ").concat(N.y)},A)),e.createElement("text",ra({x:N.x,y:N.y+u},S),t))})),e.createElement("g",null,e.createElement("path",ra({d:j,transform:s(.75*i)},C)),e.createElement("path",ra({d:j,transform:s(.25*i)},C))))}}]),c}();function fa(t){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(){return(la=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function pa(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function ha(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function da(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?ha(Object(a),!0).forEach((function(c){ya(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ha(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function ya(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function ba(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ma(t,c){return(ma=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ua(sa,"contextType",Kt),ua(sa,"getDerivedStateFromProps",(function(t){var c=t.seqLength,a=0;sa.context&&(a=sa.context.circular);for(var e=Math.floor(c/6),r=Math.max(+e.toPrecision(2),10);r%10!=0;)r+=1;for(var n=[],g=0;g<=c-r/2;g+=r)n.push(0===g?1:g);var o=6*r;return{ticks:n=n.filter((function(t){return Math.abs(a-t)<o||Math.abs(a+c-t)<o||Math.abs(a-c-t)<o})),indexInc:r}}));var wa=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&ma(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=va(t);if(c){var r=va(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==fa(c)&&"function"!=typeof c?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):c}(this,a)}}(c);function c(){return function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),t.apply(this,arguments)}return function(t,c,a){c&&ba(t.prototype,c)}(c,[{key:"render",value:function(){function t(t){return t.reduce((function(t,c){return t+(c.name.length+1)*ne}),0)}function c(t){return t[t.length-1]}var a=this.props,r=a.group,n=a.setHoveredGroup,g=a.lineHeight,o=a.size,i=o.height,u=o.width,s=r.labels.reduce((function(a,e){var r=e.name.length*ne;if(u<r){var n=Math.floor(.75*u/ne),g=new RegExp(".{1,".concat(n,"}"),"g"),o=e.name.match(g);if(o.length)return o.forEach((function(t){a.push([da(da({},e),{},{name:t.trim()})])})),a}return c(a)&&t(c(a))+r<=200?(a[a.length-1].push(e),a):(a.push([e]),a)}),[]),f=s.length*g,l=s.reduce((function(c,a,e){return Math.max(c,t(a)-(e===s.length-1?ne:0))}),0),p=function(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||function(t,c){if(t){if("string"==typeof t)return pa(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?pa(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([f,l].map((function(t){return t+2*ne})),2),h=p[0],d=p[1],y=r.forkCoor||r.textCoor,b=r.forkCoor?"M".concat(r.textCoor.x," ").concat(r.textCoor.y," L").concat(y.x," ").concat(y.y):"M".concat(r.lineCoor.x," ").concat(r.lineCoor.y," L").concat(y.x," ").concat(y.y),m=r.textCoor,v=m.x,w=m.y;v="end"===r.textAnchor?v-(r.labels[0].name.length+3)*ne:v,w-=ne,v=Math.max(v,2*ne),v=Math.min(v,u-2*ne-l),w=Math.max(w,2*ne);var O={x:v,y:w=Math.min(w,i-2*ne-f)},N={x:v-ne,y:w-ne-2},C="".concat(r.labels[0].id,"_overlay");return e.createElement("g",{key:C,onMouseLeave:function(){return n("")}},e.createElement("path",{d:b,className:"la-vz-label-line"}),e.createElement("rect",la({fill:"white",stroke:"none",height:h,width:d},N)),e.createElement("text",O,s.map((function(t,c){return e.createElement("tspan",{key:"".concat(C,"_").concat(c),y:O.y+(c+.5)*g,x:O.x,dominantBaseline:"middle"},t.map((function(a,r){return e.createElement(e.Fragment,{key:a.id},e.createElement("tspan",{id:a.id,className:"la-vz-circular-label",y:O.y+(c+.5)*g,dominantBaseline:"middle",tabIndex:-1},a.name),r<t.length-1||c!==s.length-1?",":"")})))}))),e.createElement("rect",la({fill:"none",stroke:"black",strokeWidth:1.5,height:h,width:d},N)))}}]),c}();function Oa(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Na(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Oa(Object(a),!0).forEach((function(c){Ga(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function Ca(t){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aa(){return(Aa=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Sa(t,c){if(t){if("string"==typeof t)return ja(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ja(t,c):void 0}}function ja(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function Pa(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function xa(t,c){return(xa=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Ea(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ta(t){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ga(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var Ra=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&xa(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Ta(t);if(c){var r=Ta(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Ca(c)&&"function"!=typeof c?Ea(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ga(Ea(a=t.call.apply(t,[this].concat(r))),"state",{labelGroups:[],hoveredGroup:""}),Ga(Ea(a),"setHoveredGroup",(function(t){t!==a.state.hoveredGroup&&a.setState({hoveredGroup:t})})),a}return function(t,c,a){c&&Pa(t.prototype,c)}(c,[{key:"render",value:function(){var t=this,c=this.state,a=c.labelGroups,r=c.hoveredGroup,n=this.props,g=n.size,o=n.lineHeight,i=a.find((function(t){return t.labels[0].id===r}));return e.createElement("g",{className:"la-vz-circular-labels",onMouseLeave:function(){return t.setHoveredGroup("")}},a.map((function(c){var a=function(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||Sa(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.labels,1)[0],n=c.forkCoor||c.textCoor,g=e.createElement(e.Fragment,null,e.createElement("path",{d:"M".concat(c.lineCoor.x," ").concat(c.lineCoor.y," L").concat(n.x," ").concat(n.y),className:"la-vz-label-line"}),c.forkCoor&&e.createElement("path",{d:"M".concat(n.x," ").concat(n.y," L").concat(c.textCoor.x," ").concat(c.textCoor.y),className:"la-vz-label-line"}));return c.grouped?a.id===r?null:e.createElement("g",{key:"".concat(a.id,"_listener"),id:"".concat(a.id,"-label")},g,e.createElement("text",Aa({id:a.id,className:"la-vz-circular-label",textAnchor:c.textAnchor,onMouseEnter:function(){return t.setHoveredGroup(a.id)},dominantBaseline:"middle"},c.textCoor),c.name)):e.createElement("g",{key:a.id},g,e.createElement("text",Aa({id:a.id,className:"la-vz-circular-label"},c.textCoor,{textAnchor:c.textAnchor,dominantBaseline:"middle"}),c.name))})),i&&e.createElement(wa,{group:i,size:g,setHoveredGroup:this.setHoveredGroup,lineHeight:o}))}}]),c}();function qa(t){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ia(){return(Ia=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function ka(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _a(t,c){return(_a=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Ba(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Da(t){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ga(Ra,"getDerivedStateFromProps",(function(t,c){return{labelGroups:Ra.groupOverlappingLabels(t),hoveredGroup:c.hoveredGroup}})),Ga(Ra,"groupOverlappingLabels",(function(t){function c(t,c){var a=(t.name.length+4)*ne,e=!1,r=c.y+u;return r<0||r>i.height?e=!0:(c.x-a<0||c.x+a>i.width)&&(e=!0),e}var a=t.radius,e=t.labels,r=t.center,n=t.seqLength,g=t.findCoor,o=t.lineHeight,i=t.size,u=t.yDiff,s=a+(200<n?2*o:3.5*o),f=e.reduce((function(t,c){return t.concat(c)}),[]).map((function(t){var c;c="enzyme"===t.type?t.start:t.end>t.start?(t.end+t.start)/2:(t.start-n+t.end)/2;var e=g(c,a,!0),o=g(c,s,!0);return{label:t,lineCoor:e,textCoor:o,textAnchor:o.x<=r.x?"end":"start"}})).reduce((function(t,a){var e=t.findIndex((function(t){return t.textAnchor===a.textAnchor&&Math.abs(t.textCoor.y-a.textCoor.y)<15}));if(-1<e)return t[e].labels.push(a.label),t[e].grouped=!0,t;var r=c(a.label,a.textCoor);return t.concat({textAnchor:a.textAnchor,textCoor:a.textCoor,lineCoor:a.lineCoor,labels:[a.label],grouped:r,overflow:r})}),[]);return(f=(f=f.reduce((function(t,a,e){if(!a.grouped||a.overflow||4<a.labels.length)return t.concat(a);var n=t[t.length-1],g=f[e+1];n&&n.textAnchor!==a.textAnchor&&(n=void 0),g&&g.textAnchor!==a.textAnchor&&(g=void 0);var o=a.labels.map((function(t,e){var n=e*(3*ne);"end"===a.textAnchor&&(n=-n);var g=-15*(a.labels.length-e);a.textCoor.y>r.y&&(g=15*(a.labels.length-e));var o={x:a.textCoor.x+n,y:a.textCoor.y+g},i=c(t,o);return Na(Na({},a),{},{textCoor:o,grouped:i,overflow:i,labels:[t],forkCoor:a.textCoor})}));return o.some((function(t){return[n,g].some((function(c){return c&&Math.abs(c.textCoor.y-t.textCoor.y)<15}))}))?t.concat(a):t.concat.apply(t,function(t){return function(t){if(Array.isArray(t))return ja(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Sa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o))}),[])).map((function(t){var c=t.labels[0].name,a=t.labels.length-1;return t.overflow?Na(Na({},t),{},{name:"+".concat(1+a)}):t.grouped?Na(Na({},t),{},{name:"".concat(c,",+").concat(a)}):Na(Na({},t),{},{name:c})}))).map((function(t){var c=t.textCoor,a=c.x,e=c.y;return a=Math.max(ne*(t.name.length+1),a),a=Math.min(i.width-(t.name.length+1)*ne,a),e=Math.max(ne,e),e=Math.min(i.height-ne-13,e),Na(Na({},t),{},{textCoor:{x:a,y:e}})}))}));var Ma=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&_a(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Da(t);if(c){var r=Da(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==qa(c)&&"function"!=typeof c?Ba(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t,c,a){c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a}(Ba(a=t.call.apply(t,[this].concat(r))),"hoverPrimer",(function(t,c){for(var a=document.getElementsByClassName(t),e=0;e<a.length;e+=1)a[e].style.fillOpacity=c})),a}return function(t,c,a){c&&ka(t.prototype,c)}(c,[{key:"render",value:function(){var t=this,c=this.props,a=c.radius,r=c.rowsToSkip,n=c.Zoom,g=c.lineHeight,o=c.primers,i=c.showPrimers,u=a-3*g-g*r,s=u-g;return o.length&&i?e.createElement("g",{className:"la-vz-circular-primers"},o.reduce((function(c,a,r){return r&&(u-=g+3,s-=g+3),c.concat(a.map((function(c){return e.createElement(La,Ia({},t.props,{key:"".concat(c.id,"-").concat(c.start),id:c.id,primer:c,currBRadius:u,currTRadius:s,Zoom:n,hoverPrimer:t.hoverPrimer}))})))}),[])):null}}]),c}(),La=function(t){var c=t.primer,a=t.seqLength,r=t.getRotation,n=t.generateArc,g=t.currBRadius,o=t.currTRadius,i=t.inputRef,u=t.hoverPrimer,s={strokeWidth:30<t.Zoom?1:.5,shapeRendering:"geometricPrecision",cursor:"pointer",fillOpacity:.2,strokeLinejoin:"round",fill:"#1b1d21",stroke:"#1b1d21"};if(!c.end||!c.start)return null;var f=c.end>=c.start?c.end-c.start:a-c.start+c.end;f=0===f?a-.1:f;var l=r(c.start);if(g<0||o<0)return null;var p=n({innerRadius:g,outerRadius:o,length:f,largeArc:a/2<f,sweepFWD:!0,arrowFWD:1===c.direction,arrowREV:-1===c.direction,isInsert:"insert"===c.type});return e.createElement("g",{id:c.id,transform:l},e.createElement("path",Ia({d:p,id:c.id,className:c.id,ref:i(c.id,{ref:c.id,start:c.start,end:c.end,type:"PRIMER",element:null}),onMouseOver:function(){return u(c.id,.3)},onMouseOut:function(){return u(c.id,.2)},onFocus:function(){},onBlur:function(){}},s)))};function za(t){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(){return(Wa=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Fa(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ua(t,c){return(Ua=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ya,Xa,Va,Ka=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Ua(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Ha(t);if(c){var r=Ha(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==za(c)&&"function"!=typeof c?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):c}(this,a)}}(c);function c(){return function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),t.apply(this,arguments)}return function(t,c,a){c&&Fa(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.seq,a=t.radius,r=t.lineHeight,n=t.seqLength,g=t.getRotation,o=t.findCoor,i=t.generateArc,u=t.totalRows,s=this.context,f=s.ref,l=s.start,p=s.end,h=s.clockwise,d=0;l===p&&"ALL"===f?d=n:p<l?d=!1!==h?Math.abs(p-l+n):-Math.abs(l-p):l<p&&(d=!1!==h?Math.abs(p-l):-Math.abs(l-p+n)),Math.abs(d)===n&&(d+=0<d?-.1:.1);var y=a+r;c.length<200&&(y+=2*r);var b=a-r*u;(b<0||y<0)&&(b=0,y=a);var m=o(0,y),v=o(0,b),w="M ".concat(v.x," ").concat(v.y,"\n\t\t\tL ").concat(m.x," ").concat(m.y),O=!1!==h||"ALL"===f?1:0,N=!1;!1!==h&&n/2<d?N=!0:!1===h&&Math.abs(d)>n/2&&(N=!0);var C=i({innerRadius:b,outerRadius:y,length:d,largeArc:N,sweepFWD:O}),A=2;l===p&&(A=1);var S={fill:"transparent",stroke:"black",strokeWidth:A,shapeRendering:"auto"};return e.createElement("g",{className:"la-vz-circular-selection"},d&&e.createElement("path",Wa({d:C,transform:g(l)},{stroke:"none",fill:"#DEF6FF",shapeRendering:"auto"})),e.createElement("path",Wa({d:w,transform:g(l)},S)),d&&e.createElement("path",Wa({d:w,transform:g(p)},S)))}}]),c}();function Za(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Ja(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Za(Object(a),!0).forEach((function(c){re(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function $a(t){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qa(){return(Qa=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function te(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function ce(t,c){return(ce=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}Va=gc,(Xa="contextType")in(Ya=Ka)?Object.defineProperty(Ya,Xa,{value:Va,enumerable:!0,configurable:!0,writable:!0}):Ya[Xa]=Va;var ne=7.801,ge=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&ce(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=ee(t);if(c){var r=ee(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==$a(c)&&"function"!=typeof c?ae(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return re(ae(a=t.call.apply(t,[this].concat(r))),"state",{seqLength:0,lineHeight:0,annotationsInRows:[],primersInRows:[],inlinedLabels:[],outerLabels:[]}),re(ae(a),"shouldComponentUpdate",(function(t){return!zt(t,a.props)})),re(ae(a),"getRotation",(function(t){var c=a.props.center,e=a.state.seqLength,r=a.context.circular;return"rotate(".concat((t-r)/e*360||0,", ").concat(c.x,", ").concat(c.y,")")})),re(ae(a),"findCoor",(function(t,c){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=a.props.center,n=a.state.seqLength,g=((e?t-a.context.circular:t)/n-.25)*Math.PI*2,o=Math.cos(g)*c,i=Math.sin(g)*c;return{x:r.x+o,y:r.y+i}})),re(ae(a),"rotateCoor",(function(t,c){var e=a.props.center,r=c*(Math.PI/180),n=Math.cos(r),g=Math.sin(r),o=t.x-e.x,i=t.y-e.y,u=n*o-g*i,s=g*o+n*i;return{x:e.x+u,y:e.y+s}})),re(ae(a),"generateArc",(function(t){var c=t.innerRadius,e=t.outerRadius,r=t.length,n=t.largeArc,g=t.sweepFWD,o=void 0!==g&&g,i=t.arrowFWD,u=void 0!==i&&i,s=t.arrowREV,f=void 0!==s&&s,l=t.offset,p=void 0===l?0:l,h=a.props.radius,d=a.state,y=d.seqLength,b=d.lineHeight,m=a.findCoor(p,c),v=a.findCoor(p,e),w=a.findCoor(r+p,c),O=a.findCoor(r+p,e),N="",C="";if(f||u){var A=b/4/h,S=360*Math.min(A/2,r/y);if(f){m=a.rotateCoor(m,S),v=a.rotateCoor(v,S);var j=a.findCoor(0,(c+e)/2);N="L ".concat(j.x," ").concat(j.y)}else{w=a.rotateCoor(w,-S),O=a.rotateCoor(O,-S);var P=a.findCoor(r,(c+e)/2);C="L ".concat(P.x," ").concat(P.y)}}var x=n?1:0,E=o?1:0,T=o?0:1;return"M ".concat(w.x," ").concat(w.y,"\n      A ").concat(c," ").concat(c,", 0, ").concat(x,", ").concat(T,", ").concat(m.x," ").concat(m.y,"\n      L ").concat(m.x," ").concat(m.y,"\n      ").concat(N,"\n      L ").concat(v.x," ").concat(v.y,"\n      A ").concat(e," ").concat(e,", 0, ").concat(x,", ").concat(E,", ").concat(O.x," ").concat(O.y,"\n      ").concat(C,"\n      Z")})),a}return function(t,c,a){c&&te(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.showPrimers,a=t.showIndex,r=t.name,n=t.inputRef,g=t.mouseEvent,o=t.onUnmount,i=t.center,u=t.radius,s=t.yDiff,f=t.size,l=t.seq,p=t.compSeq,h=t.cutSites,d=t.search,y=this.state,b=y.seqLength,m=y.lineHeight,v=y.annotationsInRows,w=y.primersInRows,O=y.inlinedLabels,N=y.outerLabels,C=this.getRotation,A=this.generateArc,S={radius:u,center:i,lineHeight:m,seqLength:b,findCoor:this.findCoor,getRotation:C,generateArc:A,rotateCoor:this.rotateCoor,inputRef:n},j=v.length+1,P=4+v.length;c&&(P+=w.length);var x="la-vz-".concat(r,"-viewer-circular");return f.height?e.createElement("svg",Qa({id:x,className:"la-vz-circular-viewer",onMouseDown:g,onMouseUp:g,onMouseMove:g,ref:n(x,{type:"SEQ"})},f),e.createElement("g",{className:"la-vz-circular-root",transform:"translate(0, ".concat(s,")")},e.createElement(Ka,Qa({},S,{onUnmount:o,totalRows:P,seq:l})),e.createElement(Lc,Qa({},S,{annotations:v,size:f,rowsToSkip:0,inlinedAnnotations:O})),e.createElement(aa,Qa({},S,{search:d})),e.createElement(Ma,Qa({},S,{primers:w,showPrimers:c,size:f,rowsToSkip:j})),e.createElement(Kc,Qa({},S,{selectionRows:4,cutSites:h})),e.createElement(sa,Qa({},S,{name:r,size:f,yDiff:s,seq:l,compSeq:p,totalRows:P,showIndex:a})),e.createElement(Ra,Qa({},S,{labels:N,size:f,yDiff:s})))):null}}]),c}();re(ge,"contextType",Kt),re(ge,"getDerivedStateFromProps",(function(t){var c=vc(t.annotations.filter((function(t){return"insert"!==t.type})),t.seq.length),a=vc(pc(t.primers,t.seq),t.seq.length),e=t.seq.length,r=t.cutSites,n=t.radius-42,g=[],o=[];return c.forEach((function(t){var c=n*Math.PI;t.forEach((function(t){var a=(t.name.length+2)*ne,r=t.end-t.start;if(t.start>=t.end&&(r+=e),a<2*c*(r/e))g.push(t.id);else{var n=t.id,i=t.name,u=t.start,s=t.end;o.push({id:n,name:i,start:u,end:s,type:"annotation"})}})),n-=14})),r.forEach((function(t){return o.push(Ja(Ja({},t),{},{start:t.fcut,type:"enzyme"}))})),o.sort((function(t,c){return Math.min(t.start,t.end)-Math.min(c.start,c.end)})),{seqLength:t.seq.length,lineHeight:14,annotationsInRows:c,primersInRows:a,inlinedLabels:g,outerLabels:o}}));var oe=qc(ge);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,c){(null==c||c>t.length)&&(c=t.length);for(var a=0,e=new Array(c);a<c;a++)e[a]=t[a];return e}function se(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function fe(t,c){return(fe=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var de=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&fe(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=pe(t);if(c){var r=pe(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==ie(c)&&"function"!=typeof c?le(t):c}(this,a)}}(c);function c(a){var r;return function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),he(le(r=t.call(this,a)),"scroller",void 0),he(le(r),"insideDOM",void 0),he(le(r),"timeoutID",void 0),he(le(r),"componentDidMount",(function(){r.handleScrollOrResize(),window.addEventListener("resize",r.handleScrollOrResize)})),he(le(r),"componentDidUpdate",(function(t,c,a){if(r.scroller){var e=r.props,n=e.seqBlocks,g=e.size,o=r.state,i=o.centralIndex,u=o.visibleBlocks;r.context&&i!==r.context.linear?r.scrollToCentralIndex():zt(t.size,g)&&n.length===t.seqBlocks.length?zt(c.visibleBlocks,u)&&r.restoreSnapshot(a):r.handleScrollOrResize()}})),he(le(r),"componentWillUnmount",(function(){window.removeEventListener("resize",r.handleScrollOrResize)})),he(le(r),"getSnapshotBeforeUpdate",(function(t){for(var c=r.scroller?r.scroller.current.scrollTop:0,a=t.blockHeights,e=0,n=0;(n+=a[e])+a[e+=1]<c&&e<a.length;);return{blockY:c-n,blockIndex:e}})),he(le(r),"scrollToCentralIndex",(function(){var t=r.props,c=t.seqBlocks,a=t.blockHeights,e=t.bpsPerBlock,n=t.totalHeight,g=t.size.height,o=r.state.visibleBlocks,i=r.scroller.current,u=i.clientHeight,s=i.scrollHeight,f=r.context.linear,l=c.findIndex((function(t){return t.props.firstBase<=f&&t.props.firstBase+e>=f})),p=[];if(s<=u)p=o;else if(-1<l){var h=c[l],d=0<l?a[l-1]:0,y=h.props.y-d,b=y+g;n<b&&(y=(b=n)-g),a.reduce((function(t,c,a){return y<=t&&t<=b&&p.push(a),t+c}),0),r.scroller.current.scrollTop=h.props.y-a[0]/2}zt(p,o)||r.setState({visibleBlocks:p,centralIndex:f})})),he(le(r),"restoreSnapshot",(function(t){var c=r.props.blockHeights,a=t.blockIndex,e=t.blockY,n=c.slice(0,a).reduce((function(t,c){return t+c}),0)+e;r.scroller.current.scrollTop=n})),he(le(r),"handleScrollOrResize",(function(){var t=r.props,c=t.blockHeights,a=t.size.height,e=t.totalHeight,n=r.state.visibleBlocks,g=[],o=0;if(r.scroller&&r.insideDOM){var i=r.scroller.current.getBoundingClientRect().top,u=r.insideDOM.current.getBoundingClientRect().top;o=u-i}o=35-o,o=Math.max(0,o);var s=(o=Math.min(e-a,o))+a;o-=2*c[0],c.reduce((function(t,c,a){return o<=t&&t<=s&&g.push(a),t+c}),0),zt(g,n)||r.setState({visibleBlocks:g})})),he(le(r),"incrementScroller",(function(t){r.stopIncrementingScroller(),r.timeoutID=setTimeout((function(){r.scroller.current.scrollTop+=t,r.incrementScroller(t)}),5)})),he(le(r),"stopIncrementingScroller",(function(){r.timeoutID&&(clearTimeout(r.timeoutID),r.timeoutID=null)})),he(le(r),"handleMouseOver",(function(t){if(1===t.buttons){var c=r.scroller.current.getBoundingClientRect(),a=(t.clientY-c.top)/c.height;if(.9<a){var e=(a=Math.min(1,a))-.9,n=15*(e*=10);r.incrementScroller(n)}else if(a<.1){var g=10*(a=.1-Math.max(0,a))*-15;r.incrementScroller(g)}else r.stopIncrementingScroller()}else r.timeoutID&&r.stopIncrementingScroller()})),r.state={visibleBlocks:new Array(Math.min(5,a.seqBlocks.length)).fill(null).map((function(t,c){return c})),centralIndex:0},r.scroller=e.createRef(),r.insideDOM=e.createRef(),r}return function(t,c,a){c&&se(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.seqBlocks,a=t.blockHeights,r=t.totalHeight,n=t.size.width,g=this.state.visibleBlocks,o=function(t,c){return function(t){if(Array.isArray(t))return t}(t)||function(t,c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],e=!0,r=!1,n=void 0;try{for(var g,o=t[Symbol.iterator]();!(e=(g=o.next()).done)&&(a.push(g.value),!c||a.length!==c);e=!0);}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return a}}(t,c)||function(t,c){if(t){if("string"==typeof t)return ue(t,c);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ue(t,c):void 0}}(t,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g,1)[0],i=a.slice(0,o).reduce((function(t,c){return t+c}),0);return e.createElement("div",{className:"la-vz-linear-scroller",ref:this.scroller,onScroll:this.handleScrollOrResize,onMouseOver:this.handleMouseOver,onFocus:function(){}},e.createElement("div",{className:"la-vz-seqblock-container",style:{height:r},ref:this.insideDOM},e.createElement("div",{style:{width:n||0,height:i}}),g.map((function(t){return c[t]}))))}}]),c}();function ye(){return(ye=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function be(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function we(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Oe(t,c,a){return c&&we(t.prototype,c),a&&we(t,a),t}function Ne(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&function(t,c){(Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}(t,c)}function Ce(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Se(t);if(c){var r=Se(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==me(c)&&"function"!=typeof c?Ae(t):c}(this,a)}}function Ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}he(de,"contextType",Kt);var je=function(){Ne(c,e.PureComponent);var t=Ce(c);function c(){return ve(this,c),t.apply(this,arguments)}return Oe(c,[{key:"render",value:function(){var t=this.props,c=t.annotationRows,a=t.yDiff,r=t.findXAndWidth,n=t.inputRef,g=t.seqBlockRef,o=t.onUnmount,i=t.firstBase,u=t.lastBase,s=t.fullSeq,f=t.elementHeight;return e.createElement("g",{className:"la-vz-linear-annotations"},c.map((function(t,c){var l=a+f*c;return e.createElement(Pe,{key:"ann-row-".concat(l).concat(i).concat(u),annotations:t,y:l,height:f,inputRef:n,seqBlockRef:g,onUnmount:o,findXAndWidth:r,firstBase:i,lastBase:u,fullSeq:s})})))}}]),c}(),Pe=function(){Ne(c,e.PureComponent);var t=Ce(c);function c(){var a;ve(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return be(Ae(a=t.call.apply(t,[this].concat(n))),"hoverOtherAnnotationRows",(function(t,c){for(var a=document.getElementsByClassName(t),e=0;e<a.length;e+=1)a[e].style.fillOpacity=c})),be(Ae(a),"renderAnnotation",(function(t,c){var r=a.props,n=r.inputRef,g=r.seqBlockRef,o=r.findXAndWidth,i=r.firstBase,u=r.lastBase,s=r.annotations,f=r.fullSeq,l=r.bpsPerBlock,p=t.color,h=t.name,y=t.direction,b=t.start,m=t.end,v=1===y,w=-1===y,O=o(b,m),N=O.x,C=O.width,A=m<b&&m<i,S=v&&i<m&&m<=u,j=w&&i<=b&&b<=u,P=b<i,x=u<m||b===m&&f.length>l;if(1<s.reduce((function(c,a){return a.id===t.id?c+1:c}),0))if(s.findIndex((function(c){return c.id===t.id}))===c){var E=o(i,m);N=E.x,C=E.width,x=!(P=!0)}else{var T=o(b,u);N=T.x,C=T.width,x=!(P=!1)}else if(m<b){var G=o(u<b?i:Math.max(i,b),m<i?u:Math.min(u,m));N=G.x,C=G.width,i<b&&(P=!0,x=u<m),m<i&&(P=b<i,x=!0)}else if(b===m){var R=o(b,m+f.length);N=R.x,C=R.width}var q,I,k=.8*a.props.height,_={dominantBaseline:"middle",cursor:"pointer",textAnchor:"middle",textRendering:"optimizeLegibility",x:C/2,y:k/2+1.4,style:{color:"black",fontWeight:400}},B=k/4,D=N,M=C,L=j?"M ".concat(8," 0"):"M 0 0",z="L ".concat(S?C-8:C," 0");if("insert"===t.type)q="".concat(L," ").concat(z);else{var W="L ".concat(C," ").concat(k);x&&8<C||A?W="\n\t\t\t\tL ".concat(C-4," ").concat(B,"\n\t\t\t\tL ").concat(C," ").concat(2*B,"\n\t\t\t\tL ").concat(C-4," ").concat(3*B,"\n        L ").concat(C," ").concat(4*B):S&&(W="\n\t\t\t\tL ".concat(C," ").concat(k/2,"\n\t\t\t\tL ").concat(C-Math.min(8,M)," ").concat(k));var F="L 0 ".concat(k," L 0 0");P&&8<C?F="\n\t\t\t\tL 0 ".concat(k,"\n\t\t\t\tL ").concat(4," ").concat(3*B,"\n\t\t\t\tL 0 ").concat(2*B,"\n\t\t\t\tL ").concat(4," ").concat(B,"\n\t\t\t\tL 0 0"):j&&(F="\n\t\t\t\tL ".concat(Math.min(8,M)," ").concat(k,"\n\t\t\t\tL 0 ").concat(k/2,"\n\t\t\t\tL ").concat(Math.min(8,M)," 0")),q="".concat(L," ").concat(z," ").concat(W," ").concat(F)}v&&x||v&&A?14<u-b&&(q+="\n      M ".concat(C-12," ").concat(B,"\n      L ").concat(C-8," ").concat(2*B,"\n      L ").concat(C-12," ").concat(3*B,"\n      M ").concat(C-16," ").concat(B,"\n      L ").concat(C-12," ").concat(2*B,"\n      L ").concat(C-16," ").concat(3*B)):(w&&P||w&&A)&&14<m-i&&(q+="\n      M ".concat(12," ").concat(3*B,"\n      L ").concat(8," ").concat(2*B,"\n      L ").concat(12," ").concat(B,"\n      M ").concat(16," ").concat(3*B,"\n      L ").concat(12," ").concat(2*B,"\n      L ").concat(16," ").concat(B)),I="insert"===t.type?p:d.b[p]||Object(d.f)(p);var U=e.createElement("path",ye({id:t.id,ref:n(t.id,{ref:t.id,start:b,end:m,type:"ANNOTATION",element:g}),className:t.id,style:{fillOpacity:.7,cursor:"pointer",fill:p,stroke:I,strokeWidth:"insert"===t.type?2.4:.5}},{shapeRendering:"geometricPrecision"},{d:q,onMouseOver:function(){return a.hoverOtherAnnotationRows(t.id,1)},onMouseOut:function(){return a.hoverOtherAnnotationRows(t.id,.7)},onFocus:function(){return 0},onBlur:function(){return 0}})),H=6.75*h.length<C-15;return e.createElement("g",{key:"".concat(t.id,"-").concat(i),id:t.id,transform:"translate(".concat(D,", 0)")},U,",",H?e.createElement("text",ye({fontSize:11},_,{id:t.id,onMouseOver:function(){return a.hoverOtherAnnotationRows(t.id,1)},onMouseOut:function(){return a.hoverOtherAnnotationRows(t.id,.7)},onFocus:function(){},onBlur:function(){}}),h):null)})),a}return Oe(c,[{key:"render",value:function(){var t=this.props,c=t.annotations,a=t.width,r=t.y,n={width:a,height:.8*this.props.height},g="translate(0, ".concat(r-5,")");return e.createElement("g",ye({},n,{transform:g,className:"la-vz-linear-annotation-row"}),c.map(this.renderAnnotation))}}]),c}();function xe(){return(xe=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Ee(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function Te(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Ee(Object(a),!0).forEach((function(c){Ge(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function Ge(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function Re(t,c){for(var a=1<arguments.length&&void 0!==c&&c,e=document.getElementsByClassName("".concat(t,"-name")),r=0;r<e.length;r+=1)e[r].style.fillOpacity=a?1:.8;e=document.getElementsByClassName(t);for(var n=0;n<e.length;n+=1)e[n].style.fillOpacity=a?.5:0}function qe(t){var c=t.zoom.linear,a=t.cutSiteRows,r=t.findXAndWidth,n=t.lineHeight,g=t.enzymes,o=t.firstBase,i=t.lastBase,u=t.inputRef,s=t.yDiff;if(g.length<1)return null;var f=a.map((function(t){var c=r(t.fcut,t.fcut).x,a=r(t.rcut,t.rcut).x,e=r(t.recogStart,t.recogEnd),n=e.x,g=e.width;if(function(t,c,a,e){return t<a&&c<a||e<t&&e<c||(t<=c?c<e&&a<t:t<e&&a<c)}(t.recogStart,t.recogEnd,o,i))if(t.recogStart>t.recogEnd){var u=r(t.recogEnd<o?i:Math.min(i,t.recogEnd),t.recogStart>i?o:Math.max(o,t.recogStart));n=u.x,g=u.width}else if(t.recogEnd>t.recogStart){var s=r(t.recogStart<o?i:Math.min(i,t.recogStart),t.recogEnd>i?o:Math.max(o,t.recogEnd));n=s.x,g=s.width}return Te(Te({},t),{},{cutX:c,hangX:a,highlightX:n,highlightWidth:g})}));if(!f.length)return null;var l={dominantBaseline:"inherit",textAnchor:"start",y:s};return e.createElement("g",{className:"la-vz-cut-sites"},f.map((function(t){var a=t.fcut>=o&&t.fcut<i,g=t.rcut>=o&&t.rcut<i,f=a||g,p=function(t,c,a){return c&&a?{x:Math.min(t.cutX,t.hangX),width:Math.abs(t.hangX-t.cutX)}:c?t.start+t.cutX>t.end+t.hangX?r(o,t.fcut):t.fcut>t.rcut?r(o,t.fcut):r(t.fcut,i):a?t.start+t.cutX>t.end+t.hangX?r(t.rcut,i):t.fcut>t.rcut?r(t.rcut,i):r(o,t.rcut):{x:0,width:0}}(t,a,g),h=p.x,d=p.width;return e.createElement(e.Fragment,{key:"la-vz-".concat(t.id,"-first-base")},a?e.createElement("text",xe({},l,{id:t.id,className:"la-vz-cut-site-text ".concat(t.id,"-name"),x:t.cutX,style:{cursor:"pointer",fill:"rgb(51, 51, 51)",fillOpacity:.8},onMouseOver:function(){return Re(t.id,!0)},onMouseOut:function(){return Re(t.id,!1)},onFocus:function(){return 0},onBlur:function(){return 0}}),t.name):null,10<c&&e.createElement("rect",{width:t.highlightWidth,height:2*n,x:t.highlightX,y:s+6,strokeDasharray:"4,5",style:{stroke:"rgb(150,150,150)",strokeWidth:1,fill:"rgb(255, 165, 0, 0.3)",fillOpacity:0},className:t.id,ref:u(t.id,{id:t.id,start:t.start,end:t.end,type:"ENZYME",element:null})}),a?e.createElement("rect",{width:"1px",height:n,x:t.cutX-.5,y:n/4+s}):null,f&&10<c?e.createElement("rect",{width:d,height:"1px",x:h-.5,y:1.25*n+s}):null,g&&10<c?e.createElement("rect",{width:"1px",height:n+1.5,x:t.hangX-.5,y:1.25*n+s}):null)})))}function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _e(t,c){return(_e=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&_e(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=De(t);if(c){var r=De(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Ie(c)&&"function"!=typeof c?Be(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return function(t,c,a){c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a}(Be(a=t.call.apply(t,[this].concat(n))),"genTicks",(function(){var t=a.props,c=t.seq,r=t.zoom,n=t.firstBase,g=t.lineHeight,o=t.size,i=t.findXAndWidth,u=c.length,s=0;switch(!0){case 85<r.linear:s=5;break;case 40<r.linear:s=10;break;case 10<r.linear:s=20;break;case 0<=r.linear:s=50;break;default:s=10}var f=[];0===n&&f.push(1);for(var l=0;(l+n)%s!=0;)l+=1;for(;l<u;)l+n!==0&&f.push(l+n),l+=s;var p={width:1,height:8},h={fontSize:11,textRendering:"optimizeLegibility"};return f.map((function(t){var c=i(t-.5,t-.5).x,a=c,r=c,n=Math.ceil(Math.log10(t+1)),u=10*n;n-=1,r-=10*(n/=2),r=Math.max(0,r),r=Math.min(o.width-u/2,r);var s="translate(".concat(a,", -").concat(.3*g-1,")"),f="translate(".concat(r,", ").concat(-.3*g+22,")");return e.createElement(e.Fragment,{key:t},e.createElement("rect",{style:p,fill:"#A3A3A3",transform:s}),e.createElement("text",{style:h,transform:f},t))}))})),a}return function(t,c,a){c&&ke(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.lineHeight,a=t.transform,r=t.showIndex,n=(0,t.findXAndWidth)(t.firstBase,t.lastBase).width;if(!r)return null;var g={width:n,height:1,shapeRendering:"crispEdges"};return e.createElement("g",{className:"la-vz-linear-index",transform:a},e.createElement("rect",{style:g,fill:"#B0B9C2",transform:"translate(0, -".concat(.3*c,")")}),this.genTicks())}}]),c}();function Le(){return(Le=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function ze(t){var c=t.filteredRows,a=t.findXAndWidth,r=t.indexYDiff,n=t.compYDiff,g=t.seqBlockRef,o=t.inputRef,i=t.firstBase,u=t.lastBase,s=t.listenerOnly,f=void 0!==s&&s;if(!c.length)return null;var l={height:18,stroke:f?"none":"rgba(0, 0, 0, 0.5)",cursor:"pointer",strokeWidth:1,style:{fill:f?"transparent":"rgba(255, 251, 7, 0.5)"}};return c.map((function(t){var c=a(t.start,t.end),s=c.x,f=c.width;if(t.start>t.end){var p=a(t.start>u?i:Math.max(i,t.start),t.end<i?u:Math.min(u,t.end));s=p.x,f=p.width}var h=Object(b.a)(),d={id:h,start:t.start,end:t.end,type:"FIND",element:g},y=r-l.height/2;return t.direction<0&&(y=n-l.height/2),e.createElement("rect",Le({key:h,id:h,x:s-1,y:y,width:f,ref:o(h,d)},l))}))}function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(){return(Fe=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Ue(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function He(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Ye(t,c,a){return c&&He(t.prototype,c),a&&He(t,a),t}function Xe(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&function(t,c){(Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}(t,c)}function Ve(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Ze(t);if(c){var r=Ze(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==We(c)&&"function"!=typeof c?Ke(t):c}(this,a)}}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(){Xe(c,e.PureComponent);var t=Ve(c);function c(){var a;Ue(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return function(t,c,a){c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a}(Ke(a=t.call.apply(t,[this].concat(n))),"renderPrimer",(function(t){function c(){return!T&&G?"TOP":T&&!G?"BOTTOM":T&&G?"MIDDLE":"WHOLE"}var r=a.props,n=r.inputRef,g=r.seqBlockRef,o=r.findXAndWidth,i=r.firstBase,u=r.lastBase,s=r.fullSeq,f=r.charWidth,l=r.fontSize,p=r.zoomed,h=Object(b.a)(),d=t.direction,y=t.start,m=void 0===y?0:y,v=t.end,w=void 0===v?0:v,O=t.sequence,N=t.id,C=w<m?s.length-m+w:w-m,A=o(m,w),j=A.x,P=A.width,x=1===d&&i<w&&w<=u,E=-1===d&&i<m&&m<=u,T=m<i,G=u<w||m===w,R=w<m,q=R&&m<u,I=R&&u<m;if(R){var k=o(u<m?i:Math.max(i,m),w<i?u:Math.min(u,w));j=k.x,P=k.width,I&&(T=!0,G=u<w),q&&(T=m<i,G=!0)}else if(m===w){var _=o(m,w+s.length);j=_.x,P=_.width}var B=a.props.height,D={dominantBaseline:"middle",cursor:"pointer",lengthAdjust:"spacing",textRendering:"optimizeLegibility",style:{color:"black",fontWeight:150}},M=(B*=.4)/4,L=j,z=P,W=t.mismatches,F=[],U=1===d,H=U?O:Object(S.j)(O);W&&0<W.length&&W.forEach((function(t){var c=t.start,a=t.end-c;H=U?H.substring(0,t.start)+" ".repeat(a)+H.substring(t.end):Object(S.j)(Object(S.j)(H).substring(0,t.start)+" ".repeat(a)+Object(S.j)(H).substring(t.end))}));var Y=x?"L ".concat(z-8," 0\n      l -10 -10\n      l 8 0\n      l 10 10"):"L ".concat(P," 0"),X="L ".concat(z," ").concat(B);G&&40<z?X="\n\t\t\t\tL ".concat(z-4," ").concat(M,"\n\t\t\t\tL ").concat(z," ").concat(2*M,"\n\t\t\t\tL ").concat(z-4," ").concat(3*M,"\n\t\t\t\tL ").concat(z," ").concat(4*M):x&&(X="\n        L ".concat(z," ").concat(B));var V="L 0 ".concat(B," L 0 0");function K(t){return t.end-t.start}function Z(t){return I?U?t.end-(s.length-m)>i&&t.start-(s.length-m)<i:w-t.start-K(t)<i&&w-t.end+K(t)>i:U?m+t.end>i&&m+t.start<i:m+(C-t.end)<i&&m+(C-t.start)>i}function J(t){return I?U?t.end-(s.length-m)>u&&t.start-(s.length-m)<u:w-t.start-K(t)<u&&w-t.end+K(t)>u:U?m+t.end>u&&m+t.start<u:m+(C-t.end)<u&&m+(C-t.start)>u}function $(t){return Z(t)?"LEFT":J(t)?"RIGHT":"NONE"}function Q(t){return t*f}function tt(t){return t.map((function(t){var a=t,e=function(t){var a=t.start,e=t.end,r="",n="";if(U){var g=m+a,o=m+e;I&&(g=a-(s.length-m),o=e-(s.length-m));var f=i-g,l=u-o;switch($(t)){case"LEFT":r=O.substring(a+f,e);break;case"RIGHT":r=O.substring(a,e+l);break;default:r=O.substring(a,e)}var p=r.length,h=K(t)-p;switch($(t)){case"LEFT":n="M 0 0\n            m ".concat(Q(i-g-h)," 0\n            l 0 ").concat(0-B,"\n            l ").concat(Q(p)," 0\n            l 0 ").concat(B);break;default:n="TOP"===c()?"M 0 0\n              m ".concat(Q(a)," 0\n              l 0 ").concat(0-B,"\n              l ").concat(Q(p)," 0\n              l 0 ").concat(B):"M 0 0\n              m ".concat(Q(g-i)," 0\n              l 0 ").concat(0-B,"\n              l ").concat(Q(p)," 0\n              l 0 ").concat(B)}}else if(!U){var d=w-a,y=w-e;q&&(d=m+(C-a),y=m+(C-e));var b=i-y,v=u-d;switch($(t)){case"LEFT":r=Object(S.j)(O.substring(e-b,a));break;case"RIGHT":r=Object(S.j)(O.substring(e,a-v));break;default:r=Object(S.j)(O.substring(e,a))}var N=r.length,A=K(t)-N;switch($(t)){case"RIGHT":n="M 0 ".concat(B,"\n            m ").concat(P-Q(d-u-A)," 0\n            l 0 ").concat(B,"\n            l ").concat(0-Q(N)," 0\n            l 0 ").concat(0-B);break;default:n="BOTTOM"===c()?"M 0 ".concat(B,"\n              m ").concat(Q(H.length-a)," 0\n              l 0 ").concat(B,"\n              l ").concat(0-Q(N)," 0\n              l 0 ").concat(0-B):"M 0 ".concat(B,"\n              m ").concat(P-Q(u-d)," 0\n              l 0 ").concat(B,"\n              l ").concat(0-Q(N)," 0\n              l 0 ").concat(0-B)}}return{mismatchName:r,mismatchPath:n}}(t),r=e.mismatchName,n=e.mismatchPath;return F.push(n),a.name=r,a}))}T&&40<z?V="\n\t\t\t\tL 0 ".concat(B,"\n\t\t\t\tL ").concat(4," ").concat(3*M,"\n\t\t\t\tL 0 ").concat(2*M,"\n\t\t\t\tL ").concat(4," ").concat(M,"\n\t\t\t\tL 0 0"):E&&(V="\n        L ".concat(z," ").concat(B,"\n        l ").concat(8-z," 0\n        l 10 10\n        l -8 0\n        l -10 -10\n        l 0 ").concat(0-B,"\n        ")),"TOP"===c()?q?(H=H.substring(0,u-m),W&&0<W.length&&(W=tt(W=U?W.filter((function(t){return t.start-(s.length-m)<u})):W.filter((function(t){return C-t.end-(s.length-m)<u}))))):(H=H.substring(0,u-m),W&&0<W.length&&(W=tt(W=U?W.filter((function(t){return m+t.start<u})):W.filter((function(t){return m+(C-t.end)<u}))))):W="MIDDLE"===c()?(I?(H=H.substring(s.length-m+i,s.length-m+i+(u-i)),W&&0<W.length&&(W=U?W.filter((function(t){return t.end-(s.length-m)>i&&t.start-(s.length-m)<u})):W.filter((function(t){return C-t.start-(s.length-m)>i&&C-t.end-(s.length-m)<u})))):(H=H.substring(i-m,i-m+u-i),W&&0<W.length&&(W=U?W.filter((function(t){return m+t.end>i&&m+t.start<u})):W.filter((function(t){return m+(C-t.start)>i&&m+(C-t.end)<u})))),tt(W)):"BOTTOM"===c()?(I?(H=H.substring(s.length-m+i),W&&0<W.length&&(W=U?W.filter((function(t){return t.end-(s.length-m)>i})):W.filter((function(t){return C-t.start-(s.length-m)>i})))):(H=H.substring(i-m),W&&0<W.length&&(W=U?W.filter((function(t){return m+t.end>i})):W.filter((function(t){return m+(C-t.start)>i})))),tt(W)):W&&0<W.length?W.map((function(t){var c=t;return c.name=O.substring(t.start,t.end),U?F.push("M 0 0\n              m ".concat(Q(t.start)," 0\n              l 0 ").concat(0-B,"\n              l ").concat(Q(K(t))," 0\n              l 0 ").concat(B)):U||(c.name=Object(S.j)(O.substring(t.end,t.start)),F.push("M 0 ".concat(B,"\n              m ").concat(Q(H.length-t.start)," 0\n              l 0 ").concat(B,"\n              l ").concat(Q(0-K(t))," 0\n              l 0 ").concat(0-B))),c})):[];var ct=F.join(" "),at="".concat("M 0 0"," ").concat(Y," ").concat(X," ").concat(V," ").concat(ct),et=e.createElement("path",Fe({id:N,ref:n("".concat(N),{ref:"".concat(N),start:m,end:w,type:"PRIMER",element:g}),className:N,style:{fillOpacity:.1,cursor:"pointer",stroke:"#1b1d21",strokeWidth:.5}},{shapeRendering:"geometricPrecision"},{d:at,onMouseOver:function(){return a.hoverOtherPrimerRows("".concat(N),.2)},onMouseOut:function(){return a.hoverOtherPrimerRows("".concat(N),.1)},onFocus:function(){return 0},onBlur:function(){return 0}}));return e.createElement("g",{key:"".concat(N,"_").concat(h,"-primer"),id:N,transform:"translate(".concat(L,", 0)")},e.createElement("text",Fe({key:"".concat(N,"_").concat(h,"-primer"),fontSize:l,x:P/2,y:B/2+1.4,textAnchor:"middle"},D,{textLength:P,id:N,onMouseOver:function(){return a.hoverOtherPrimerRows(N,.2)},onMouseOut:function(){return a.hoverOtherPrimerRows(N,.1)},onFocus:function(){},onBlur:function(){}}),p?"".concat(H):""),",",W&&W.map((function(t){return e.createElement("text",Fe({key:"mismatch_text_".concat(N,"_").concat(h),fontSize:l,x:function(t){var a=Z(t),e=J(t);return U?"BOTTOM"===c()||"MIDDLE"===c()?I&&U?a?0:Q(t.start-(s.length-m)-i):Q(a?t.start-i+m+(K(t)-t.name.length):t.start-i+m):Q(t.start):"TOP"===c()||"MIDDLE"===c()?I?a?0:e?P-Q(t.end+u-w):U?Q(t.start-(s.length-m)-i):P-Q(t.end+u-w-(K(t)-t.name.length)):q?a?P-Q(u-(m+(C-t.start))+t.name.length):P-Q(u-(m+(C-t.start))+K(t)):e?P-Q(t.end+u-w):P-Q(t.end+u-w-(K(t)-t.name.length)):P-Q(t.end-(K(t)-t.name.length))}(t),y:U?0-B/2:3*B/2+1.4,textAnchor:"left"},D,{textLength:Q(t.name.length),id:N}),p?"".concat(t.name):"")})),",",et)})),a}return Ye(c,[{key:"render",value:function(){var t=this.props,c=t.y,a=t.primers,r="translate(0, ".concat(c-5,")");return e.createElement("g",{transform:r,className:"linear-primer-row"},a.map(this.renderPrimer))}}]),c}(),$e=function(){Xe(c,e.PureComponent);var t=Ve(c);function c(){return Ue(this,c),t.apply(this,arguments)}return Ye(c,[{key:"render",value:function(){var t=this.props,c=t.showPrimers,a=t.forwardPrimerRows,r=t.reversePrimerRows,n=t.direction,g=t.yDiff,o=t.findXAndWidth,i=t.inputRef,u=t.seqBlockRef,s=t.onUnmount,f=t.firstBase,l=t.lastBase,p=t.fullSeq,h=t.charWidth,d=t.zoomed,y=t.fontSize,m=this.props.elementHeight;if(m*=3,!c)return null;var v=1===n?a:r;return e.createElement("g",{className:"la-vs-linear-primers"},v.map((function(t,c){var a=Object(b.a)(),r=g+c*m;return 1===n&&(r+=.35*m),e.createElement(Je,{id:a,primers:t,y:r,height:m,key:"".concat(a,"-primer-linear-row"),inputRef:i,seqBlockRef:u,onUnmount:s,findXAndWidth:o,firstBase:f,lastBase:l,fullSeq:p,direction:n,charWidth:h,fontSize:y,zoomed:d})})))}}]),c}();function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(){return(tr=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function cr(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function ar(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function er(t,c,a){return c&&ar(t.prototype,c),a&&ar(t,a),t}function rr(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&function(t,c){(Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}(t,c)}function nr(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=or(t);if(c){var r=or(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Qe(c)&&"function"!=typeof c?gr(t):c}(this,a)}}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ir(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var ur=function(){rr(c,e.PureComponent);var t=nr(c);function c(){var a;cr(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ir(gr(a=t.call.apply(t,[this].concat(r))),"id",Object(b.a)()),a}return er(c,[{key:"render",value:function(){var t=this.props,c=t.findXAndWidth,a=t.selectEdgeHeight,r=t.firstBase,n=t.lastBase,g=t.fullSeq,o=this.context,i=o.ref,u=o.start,s=o.end,f=o.clockwise,l=null,p=null;if(f?(r<=u&&u<n&&(l=u),r<s&&s<=n&&(p=s)):(r<u&&u<=n&&(l=u),r<=s&&s<n&&(p=s)),("ALL"===i||0===u&&s===g.length-1)&&(p=l=null),null===l&&null===p)return null;null===l&&(l=p,p=null);var h=c(l,p),d=h.x,y=h.width;if(!1===f&&null!==l&&null!==p){var b=c(p,l);d=b.x,y=b.width}var m=d+y;if(null!==l&&null!==p&&(s<u&&!0===f||u<s&&!1===f)&&(m=d-y),u===s&&u===n)return null;var v={y:"-10",style:{fill:"black",width:u===s?1:2},shapeRendering:"crispEdges"};return e.createElement("g",{className:"la-vz-linear-sel-edges"},null!==l&&e.createElement("rect",tr({},v,{x:u===s?d-1:d-2,height:a})),null!==p&&e.createElement("rect",tr({},v,{x:u===s?m-1:m-2,height:a})))}}]),c}();ir(ur,"contextType",gc);var sr=function(){rr(c,e.PureComponent);var t=nr(c);function c(){var a;cr(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ir(gr(a=t.call.apply(t,[this].concat(r))),"id",Object(b.a)()),a}return er(c,[{key:"render",value:function(){var t,c,a=this.props,r=a.findXAndWidth,n=a.selectHeight,g=a.firstBase,o=a.lastBase,i=a.fullSeq,u=this.context,s=u.clockwise,f=u.ref,l=this.context,p=l.start,h=l.end;if(p===h&&"ALL"!==f)return null;("ALL"===f||0===p&&h===i.length)&&(h=p=0);var d=null;if(s&&p<h){if(p<=o&&g<h){var y=r(Math.max(g,p),Math.min(o,h));t=y.x,c=y.width}}else if(s&&h<p){if(!(o<p&&h<g))if(p<o&&g<h){var b=r(p,o),m=b.x,v=b.width;d=e.createElement("rect",{x:m,y:-10,height:n+5,width:v,className:"la-vz-linear-sel-block"});var w=r(g,h);t=w.x,c=w.width}else{var O=r(o<p?g:Math.max(g,p),h<g?o:Math.min(o,h));t=O.x,c=O.width}}else if(!s&&h<p){if(h<=o&&g<=p){var N=r(Math.max(g,h),Math.min(o,p));t=N.x,c=N.width}}else if(!s&&p<h&&(g<p||h<o))if(g<p&&p<o&&g<h){var C=r(h,o),A=C.x,S=C.width;d=e.createElement("rect",{x:A,y:-10,height:n+5,width:S,className:"la-vz-linear-sel-block",shapeRendering:"auto"});var j=r(g,p);t=j.x,c=j.width}else{var P=r(p<g?h:g,o<h?p:o);t=P.x,c=P.width}if("ALL"===f||p===h){var x=r(Math.max(g,0),Math.min(o,i.length+1));t=x.x,c=x.width}return t||c?e.createElement(e.Fragment,null,e.createElement("rect",{className:"la-vz-linear-sel-block",x:t,y:-10,height:n+5,width:c,shapeRendering:"auto"}),d):null}}]),c}();ir(sr,"contextType",gc);var fr={Edges:ur,Block:sr};function lr(){return(lr=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function pr(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function yr(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function br(t,c,a){return c&&yr(t.prototype,c),a&&yr(t,a),t}function mr(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&function(t,c){(Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}(t,c)}function vr(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Or(t);if(c){var r=Or(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==hr(c)&&"function"!=typeof c?wr(t):c}(this,a)}}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nr=function(){mr(c,e.PureComponent);var t=vr(c);function c(){return dr(this,c),t.apply(this,arguments)}return br(c,[{key:"render",value:function(){var t=this.props,c=t.translations,a=t.yDiff,r=t.inputRef,n=t.seqBlockRef,g=t.onUnmount,o=t.fullSeq,i=t.firstBase,u=t.lastBase,s=t.bpsPerBlock,f=t.charWidth,l=t.findXAndWidth,p=t.elementHeight;return e.createElement("g",{className:"la-vz-linear-translations"},c.map((function(t,c){return e.createElement(Cr,{translation:t,y:a+p*c-10,height:p,key:"".concat(t.id,"-").concat(i),id:t.id,inputRef:r,seqBlockRef:n,onUnmount:g,fullSeq:o,firstBase:i,lastBase:u,charWidth:f,bpsPerBlock:s,findXAndWidth:l})})))}}]),c}(),Cr=function(){mr(c,e.Component);var t=vr(c);function c(){var a;dr(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return pr(wr(a=t.call.apply(t,[this].concat(r))),"AAs",[]),pr(wr(a),"componentWillUnmount",(function(){var t=a.props.onUnmount;a.AAs.forEach((function(c){t(c)}))})),pr(wr(a),"genPath",(function(t,c){var e=a.props,r=e.height,n=t*e.charWidth,g=3*c;return"M 0 0\n\t\t\tL ".concat(n," 0\n\t\t\tL ").concat(n+g," ").concat(r/2,"\n\t\t\tL ").concat(n," ").concat(r,"\n\t\t\tL 0 ").concat(r,"\n\t\t\tL ").concat(g," ").concat(r/2,"\n\t\t\tZ")})),a}return br(c,[{key:"render",value:function(){var t=this,a=this.props,r=a.inputRef,n=a.seqBlockRef,g=a.firstBase,o=a.lastBase,i=a.translation,u=a.fullSeq,s=a.findXAndWidth,f=a.height,l=a.y,p=a.charWidth,h=a.bpsPerBlock,y=i.id,m=i.start,v=i.end,w=i.AAseq,O=i.direction,N={start:m,end:v,type:"TRANSLATION",element:n},C=w.split("");return e.createElement("g",{transform:"translate(0, ".concat(l,")"),ref:r(y,N),id:y},C.map((function(a,n){var i=Object(b.a)();t.AAs.push(i);var l=(m+3*n)%u.length,y=(m+3*n+3)%u.length;if(y<l&&h<=g?y+=u.length:y<l&&g<h?l-=u.length:0===l&&h<=g&&(l+=u.length,y+=u.length),o<l||y<g)return null;var v=!0,w=3;l<g?(w=Math.min(3,y-g))<2&&(v=!1):o<y&&(w=Math.min(3,o-l))<2&&(v=!1);var C=s(Math.max(l,g)).x,A=t.genPath(w,1===O?1:-1);return e.createElement("g",{key:i,id:i,transform:"translate(".concat(C,", 0)"),ref:r(i,N)},e.createElement("path",lr({id:i,d:A},c.aaProps,{fill:Object(d.e)(a.charCodeAt(0)),stroke:Object(d.c)(a.charCodeAt(0))})),v&&e.createElement("text",lr({id:i,x:1.5*p,y:"".concat(f/2+1.5)},c.textProps),a))})))}}]),c}();function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(){return(Sr=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function jr(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Pr(t,c){return(Pr=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function xr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Er(t){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tr(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}pr(Cr,"textProps",{dominantBaseline:"middle",cursor:"pointer",textAnchor:"middle",style:{color:"black",fontSize:13,fontWeight:400}}),pr(Cr,"aaProps",{shapeRendering:"geometricPrecision",style:{cursor:"pointer",strokeWidth:.8,opacity:.7}});var Gr=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Pr(t,c)}(c,e.PureComponent);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Er(t);if(c){var r=Er(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Ar(c)&&"function"!=typeof c?xr(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return Tr(xr(a=t.call.apply(t,[this].concat(n))),"componentWillUnmount",(function(){var t=a.props;(0,t.onUnmount)(t.id)})),Tr(xr(a),"findXAndWidth",(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=a.props,r=e.fullSeq.length,n=e.firstBase,g=e.size,o=e.bpsPerBlock,i=Math.min(n+o,r),u=o<=r,s=0;n<=t&&(s=(t-n)/o*g.width,s=Math.max(s,0)||0);var f=g.width;if(t===c)f=0;else if(n<=t||c<i){var l=Math.max(t,n),p=Math.min(c,i);f=g.width*((p-l)/o),f=Math.abs(f)||0}else r<n+o&&u&&(f=g.width*(r%o/o));return{x:s,width:f}})),Tr(xr(a),"seqTextSpan",(function(t,c){var r=a.props,n=r.id,g=r.charWidth,o=a.bpColorLookup(t);return o?e.createElement("tspan",{key:c+t+n,fill:o,x:g*c},t):e.createElement("tspan",{key:c+t+n,x:g*c},t)})),Tr(xr(a),"bpColorLookup",(function(t){var c=a.props.bpColors;return c[t]||c[t.toUpperCase()]||c[t.toLowerCase()]||null})),a}return function(t,c,a){c&&jr(t.prototype,c)}(c,[{key:"render",value:function(){var t=this,c=this.props,a=c.seq,r=c.compSeq,n=c.fullSeq,g=c.annotationRows,o=c.forwardPrimerRows,i=c.reversePrimerRows,u=c.cutSiteRows,s=c.searchRows,f=c.translations,l=c.blockHeight,p=c.showIndex,h=c.showComplement,d=c.showPrimers,y=c.selection,b=c.seqFontSize,m=c.firstBase,v=c.size,w=c.lineHeight,O=c.elementHeight,N=c.mouseEvent,C=c.inputRef,A=c.id,S=c.onUnmount,j=c.charWidth,P=c.zoomed;if(!v.width||!v.height)return null;var x={display:"block",height:l,width:v.width},E={dominantBaseline:"middle",fontSize:b,lengthAdjust:"spacing",textAnchor:"start",textLength:v.width,textRendering:"optimizeLegibility"},T=m+a.length,G={ref:A,start:m,end:T,type:"SEQ",element:this},R=d&&o.length?3*O*o.length:0,q=P&&u.length?O/2+R:R,I=P&&u.length?O:0,k=q+I,_=P?w:0,B=k+_,D=P&&h?w:0,M=B+D,L=d&&i.length?3*O*i.length:0,z=M+L,W=O*f.length;f.length&&(z+=.25*O);var F=z+W,U=O*g.length,H=R+_+D+W+U+I+q+L,Y=p?H+13:H;f.length&&(H+=.25*O),!P&&H<=O&&(H+=w,Y+=w);var X=F+U;g.length&&(X+=.5*O,H+=.5*O,Y+=.25*O);var V=h?s:s.filter((function(t){return 1===t.direction}));return e.createElement("svg",Sr({},x,{className:"la-vz-seqblock",id:A,ref:C(A,G),onMouseDown:N,onMouseUp:N,onMouseMove:N,cursor:"text"}),e.createElement("g",{transform:"translate(0, 10)"},e.createElement(fr.Block,{selection:y,selectHeight:H,findXAndWidth:this.findXAndWidth,inputRef:C,onUnmount:S,firstBase:m,lastBase:T,fullSeq:n}),e.createElement(fr.Edges,{lastBase:T,findXAndWidth:this.findXAndWidth,firstBase:m,fullSeq:n,inputRef:C,onUnmount:S,selection:y,selectEdgeHeight:Y}),e.createElement(ze,Sr({},this.props,{filteredRows:V,findXAndWidth:this.findXAndWidth,indexYDiff:k,compYDiff:B,seqBlockRef:this,lastBase:T})),e.createElement(je,Sr({},this.props,{findXAndWidth:this.findXAndWidth,lastBase:T,yDiff:F,seqBlockRef:this,fullSeq:n})),d&&e.createElement($e,Sr({},this.props,{findXAndWidth:this.findXAndWidth,firstBase:m,lastBase:T,yDiff:0,direction:1,seqBlockRef:this,fullSeq:n,charWidth:j,fontSize:b,zoomed:P})),d&&e.createElement($e,Sr({},this.props,{findXAndWidth:this.findXAndWidth,firstBase:m,lastBase:T,yDiff:M,direction:-1,seqBlockRef:this,fullSeq:n,charWidth:j,fontSize:b,zoomed:P})),p&&e.createElement(Me,Sr({},this.props,{firstBase:m,lastBase:T,transform:"translate(0, ".concat(X,")"),findXAndWidth:this.findXAndWidth})),P?e.createElement(qe,Sr({},this.props,{findXAndWidth:this.findXAndWidth,lastBase:T,yDiff:q})):null,P?e.createElement("text",Sr({},E,{y:k,id:A}),a.split("").map((function(c,a){return t.seqTextSpan(c,a)}))):null,r&&P&&h?e.createElement("text",Sr({},E,{y:B,id:A}),r.split("").map((function(c,a){return t.seqTextSpan(c,a)}))):null,e.createElement(Nr,Sr({},this.props,{yDiff:z,seqBlockRef:this,firstBase:m,lastBase:T,findXAndWidth:this.findXAndWidth})),e.createElement(ze,Sr({},this.props,{filteredRows:V,findXAndWidth:this.findXAndWidth,indexYDiff:k,compYDiff:B,seqBlockRef:this,lastBase:T,listenerOnly:!0}))))}}]),c}();function Rr(t){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(){return(qr=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Ir(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function kr(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Ir(Object(a),!0).forEach((function(c){Lr(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ir(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function _r(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Br(t,c){return(Br=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mr(t){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lr(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}Tr(Gr,"defaultProps",{});var zr=qc(function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Br(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Mr(t);if(c){var r=Mr(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Rr(c)&&"function"!=typeof c?Dr(t):c}(this,a)}}(c);function c(){var a;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Lr(Dr(a=t.call.apply(t,[this].concat(r))),"shouldComponentUpdate",(function(t){return!zt(t,a.props)})),a}return function(t,c,a){c&&_r(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.seq,a=t.compSeq,r=t.zoom,n=t.showIndex,g=t.showComplement,o=t.showPrimers,i=t.cutSites,u=t.annotations,s=t.translations,f=t.lineHeight,l=t.elementHeight,p=t.bpsPerBlock,h=t.size,d=t.onUnmount,y=t.search,b=this.props.primers,m=(b=pc(b,c)).filter((function(t){return 1===t.direction})),v=b.filter((function(t){return-1===t.direction})),w=10<r.linear,O=c.length,N=Math.round(Math.ceil(O/p));N===Number.POSITIVE_INFINITY&&(N=1);for(var C,A=new Array(N),j=new Array(N),P=new Array(N),x=new Array(N),E=i.length?Oc(i,p,N):new Array(N).fill([]),T=wc(vc(((C=u).forEach((function(t){0===t.end&&t.start>t.end&&(t.end=O),t.start===O&&t.end<t.start&&(t.start=0)})),C),c.length),p,N),G=o?wc(vc(m,c.length),p,N):new Array(N).fill([]),R=o?wc(vc(v,c.length),p,N):new Array(N).fill([]),q=y&&y.length?Oc(y,p,N):new Array(N).fill([]),I=s.length?Oc(Object(S.d)(s,c),p,N):new Array(N).fill([]),k=0;k<N;k+=1){var _=k*p,B=_+p;j[k]=c.substring(_,B),P[k]=a.substring(_,B),A[k]=j[k]+String(k);var D=.25*l,M=1.1*f;w&&(M+=f,M+=g?f:0),n&&(M+=25),T[k].length&&(M+=T[k].length*l+D),E[k].length&&(M+=f+D),o&&G[k].length&&(M+=3*l*G[k].length),o&&R[k].length&&(M+=3*l*R[k].length),I[k].length&&(M+=I[k].length*l+D),x[k]=M}for(var L=[],z=0,W=0;W<N;W+=1){var F=W*p;L.push(e.createElement(Gr,qr({},this.props,{key:A[W],id:A[W],y:z,seq:j[W],compSeq:P[W],blockHeight:x[W],annotationRows:T[W],forwardPrimerRows:G[W],reversePrimerRows:R[W],cutSiteRows:E[W],searchRows:q[W],translations:I[W],firstBase:F,onUnmount:d,fullSeq:c,size:kr({},h),zoomed:w}))),z+=x[W]}return L.length&&e.createElement(de,qr({},this.props,{seqBlocks:L,blockHeights:x,totalHeight:x.reduce((function(t,c){return t+c}),0),size:h,bpsPerBlock:p}))}}]),c}());function Wr(t){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(){return(Fr=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Ur(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Hr(t,c){return(Hr=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xr(t){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vr(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var Kr=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&Hr(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=Xr(t);if(c){var r=Xr(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Wr(c)&&"function"!=typeof c?Yr(t):c}(this,a)}}(c);function c(a){var e;!function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),Vr(Yr(e=t.call(this,a)),"shouldComponentUpdate",(function(t,c){return!zt(t,e.props)||!zt(c,e.state)})),Vr(Yr(e),"linearProps",(function(){var t=e.props,c=t.seq,a=t.size,r=e.props.zoom.linear||0;r=Math.max(r,0),r=Math.min(r,100);var n=Math.min(Math.round(.1*r+9.5),18),g=Math.round(a.width/n*1.4)||1;return r<=5?g*=3:r<=10?g*=2:70<r&&(g=Math.round(g*(70/r))),g<c.length&&(a.width-=28),{seqFontSize:n,lineHeight:1.4*n,elementHeight:16,bpsPerBlock:g,charWidth:a.width/g,size:a,zoom:{linear:r},Linear:!0}})),Vr(Yr(e),"circularProps",(function(){var t=e.props,c=t.size,a=t.seq.length,r=e.props.zoom.circular||0;r=Math.max(r,0),r=Math.min(r,100);var n={x:c.width/2,y:c.height/2},g=Math.min(c.height,c.width),o=a*Math.exp(Math.log(50/a)/-Math.pow(100,.83)),i=.34*g;return{radius:i=0==(i=i*Math.PI/a*o/(Math.PI*(o/a)))?1:i,yDiff:0,Linear:!1,size:c,zoom:{circular:r},bpsOnArc:o,center:n}}));var r=a.size;return r.height&&r.width||console.error("SeqViz viewer rendered in an element without a height or width.\nGenerally, SeqViz expands to fill the height/width of its parent element.\n\nThe two solutions are to:\n  1. render SeqViz within a container element with a defined height + width\n  2. pass an options.style object to SeqViz with a height + width\n\nSee: https://github.com/Lattice-Automation/seqviz#optionsstyle-"),e}return function(t,c,a){c&&Ur(t.prototype,c)}(c,[{key:"render",value:function(){var t=this,c=this.props,a=c.Circular,r=c.seq,n=c.cutSites;return e.createElement("div",{className:"la-vz-viewer-container"},a?e.createElement(Kt.Consumer,null,(function(c){var a=c.circular,r=c.setCentralIndex;return e.createElement(oe,Fr({},t.props,t.state,t.circularProps(),{centralIndex:a,setCentralIndex:r,cutSites:n}))})):e.createElement(zr,Fr({},this.props,this.state,this.linearProps(),{seqLength:r.length,cutSites:n})))}}]),c}(),Zr=uc()({monitorHeight:!0})(Kr);function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(){return($r=Object.assign||function(t){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function Qr(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function tn(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Qr(Object(a),!0).forEach((function(c){on(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qr(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function cn(t,c,a,e,r,n,g){try{var o=t[n](g),i=o.value}catch(t){return void a(t)}o.done?c(i):Promise.resolve(i).then(e,r)}function an(t){return function(){var c=this,a=arguments;return new Promise((function(e,r){var n=t.apply(c,a);function g(t){cn(n,e,r,g,o,"next",t)}function o(t){cn(n,e,r,g,o,"throw",t)}g(void 0)}))}}function en(t,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function rn(t,c){return(rn=Object.setPrototypeOf||function(t,c){return t.__proto__=c,t})(t,c)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function on(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}a(21);var un=function(){!function(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),c&&rn(t,c)}(c,e.Component);var t=function(t){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,e=gn(t);if(c){var r=gn(this).constructor;a=Reflect.construct(e,arguments,r)}else a=e.apply(this,arguments);return function(t,c){return!c||"object"!==Jr(c)&&"function"!=typeof c?nn(t):c}(this,a)}}(c);function c(a){var e;return function(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),on(nn(e=t.call(this,a)),"componentDidMount",an(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setPart();case 2:case"end":return t.stop()}}),t)})))),on(nn(e),"componentDidUpdate",function(){var t=an(regeneratorRuntime.mark((function t(c,a){var r,n,g,o,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.accession,n=c.backbone,g=c.enzymes,o=c.file,i=c.search,u=a.part,r!==e.props.accession||n!==e.props.backbone||o!==e.props.file)return t.next=5,e.setPart();t.next=7;break;case 5:t.next=8;break;case 7:i.query!==e.props.search.query||i.mismatch!==e.props.search.mismatch?e.search(u):zt(g,e.props.enzymes)||e.cut(u);case 8:case"end":return t.stop()}}),t)})));return function(c,a){return t.apply(this,arguments)}}()),on(nn(e),"setPart",an(regeneratorRuntime.mark((function t(){var c,a,r,n,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.props,a=c.accession,r=c.file,t.prev=1,a)return t.next=5,Dt(a,e.props);t.next=11;break;case 5:n=t.sent,e.setState({part:tn(tn({},n),{},{annotations:e.parseAnnotations(n.annotations,n.seq)})}),e.search(n),e.cut(n),t.next=18;break;case 11:if(r)return t.next=14,It([r],e.props);t.next=18;break;case 14:g=t.sent,e.setState({part:tn(tn({},g[0]),{},{annotations:e.parseAnnotations(g[0].annotations,g[0].seq)})}),e.search(g[0]),e.cut(g[0]);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.error(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})))),on(nn(e),"search",(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=e.props,a=c.onSearch,r=c.search,n=r.query,g=r.mismatch,o=c.seq;if(o||t&&t.seq){var i=function(t,c,a){if(!(t&&t.length&&a&&a.length))return[];if(t.length-c<3)return console.error("search too broad, please narrow parameters."),[];var e=Object(y.b)(a).compSeq,r=Yt(t,a,c,!0),n=Yt(Object(S.j)(t),e,c,!1);return 4e3<r.length||4e3<n.length?(console.error("Search too broad, ".concat(r.length+n.length," matches. Please narrow parameters.")),[]):r.concat(n).sort((function(t,c){return t.start-c.start}))}(n,g,o||t.seq);zt(i,e.state.search)||(e.setState({search:i}),a(i))}})),on(nn(e),"cut",(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=e.props,a=c.enzymes,r=c.seq,n=a.length?function(t,c){var a=(t+t).toUpperCase();return c.filter((function(t){return!!Mt[t]})).reduce((function(c,e){var r=Ht(Mt[e],a,t.length).filter((function(t){return!(0===t.fcut&&0===t.rcut)})).map((function(c){return{id:Object(b.a)(),name:e,start:c.start,end:c.end%t.length,fcut:c.fcut<t.length?c.fcut:c.fcut-t.length,rcut:c.rcut<t.length?c.rcut:c.rcut-t.length,recogStrand:c.recogStrand,recogStart:c.recogStart,recogEnd:c.recogEnd%t.length}}));return c.concat(r)}),[])}(r||t&&t.seq||"",a):[];e.setState({cutSites:n})})),on(nn(e),"parseAnnotations",(function(t,c){return(t||[]).map((function(t,a){return tn(tn(tn({},Object(S.a)(a)),t),{},{direction:Object(y.a)(t.direction),start:t.start%(c.length+1),end:t.end%(c.length+1)})}))})),on(nn(e),"setCentralIndex",(function(t,c){if("linear"!==t&&"circular"!==t)throw new Error("Unknown central index type: ".concat(t));e.state.centralIndex[t]!==c&&e.setState({centralIndex:tn(tn({},e.state.centralIndex),{},on({},t,c))})})),on(nn(e),"setSelection",(function(t){var c=e.props.onSelection;e.setState({selection:t}),c(t)})),e.state={accession:"",centralIndex:{circular:0,linear:0,setCentralIndex:e.setCentralIndex},cutSites:[],selection:tn({},nc),search:[],annotations:e.parseAnnotations(a.annotations,a.seq),part:{}},e}return function(t,c,a){c&&en(t.prototype,c)}(c,[{key:"render",value:function(){var t=this.props,c=t.style,a=t.viewer,r=this.props,n=r.annotations,g=r.compSeq,o=r.name,i=r.seq,u=this.state,s=u.centralIndex,f=u.cutSites,l=u.part,p=u.search,h=u.selection;if(i=i||l.seq||"",g=g||l.compSeq||Object(y.b)(i).compSeq,o=o||l.name,n=n&&n.length?n:l.annotations||[],!i.length)return e.createElement("div",{className:"la-vz-seqviz"});var d=("linear"===a||a.includes("both"))&&e.createElement(Zr,$r({key:"linear"},this.props,{search:p,selection:h,setSelection:this.setSelection,annotations:n,compSeq:g,name:o,seq:i,cutSites:f,Circular:!1})),b=("circular"===a||a.includes("both"))&&e.createElement(Zr,$r({key:"circular"},this.props,{search:p,selection:h,setSelection:this.setSelection,annotations:n,compSeq:g,name:o,seq:i,cutSites:f,Circular:!0})),m="both_flip"===a?[d,b]:[b,d];return e.createElement("div",{className:"la-vz-seqviz",style:c},e.createElement(Kt.Provider,{value:s},e.createElement(gc.Provider,{value:h},m.filter((function(t){return t})).map((function(t){return t})))))}}]),c}();on(un,"propTypes",{accession:s.a.string,annotations:s.a.arrayOf(s.a.shape({start:s.a.number.isRequired,end:s.a.number.isRequired,name:s.a.string.isRequired,direction:s.a.oneOf([1,0,-1,"REVERSE","NONE","FORWARD"]),color:s.a.string,type:s.a.string})),backbone:s.a.string.isRequired,bpColors:s.a.object.isRequired,colors:s.a.arrayOf(s.a.string).isRequired,compSeq:s.a.string,copyEvent:s.a.func.isRequired,enzymes:s.a.arrayOf(s.a.string).isRequired,file:s.a.oneOfType([s.a.object,s.a.string]),name:s.a.string,onSearch:s.a.func.isRequired,onSelection:s.a.func.isRequired,search:s.a.shape({query:s.a.string,mismatch:s.a.number}).isRequired,seq:s.a.string,showComplement:s.a.bool.isRequired,showIndex:s.a.bool.isRequired,showPrimers:s.a.bool.isRequired,style:s.a.object.isRequired,translations:s.a.arrayOf(s.a.shape({start:s.a.number.isRequired,end:s.a.number.isRequired,direction:s.a.oneOf([1,-1,"FORWARD","REVERSE"]).isRequired})).isRequired,viewer:s.a.oneOf(["linear","circular","both","both_flip"]).isRequired,zoom:s.a.shape({circular:s.a.number,linear:s.a.number}).isRequired}),on(un,"defaultProps",{accession:"",annotations:[],backbone:"",bpColors:{},colors:[],compSeq:"",copyEvent:function(){return!1},enzymes:[],file:null,name:"",onSearch:function(t){return t},onSelection:function(t){return t},search:{query:"",mismatch:0},seq:"",showComplement:!0,showIndex:!0,showPrimers:!0,style:{},translations:[],viewer:"both",zoom:{circular:0,linear:50}});var sn={name:"L09136",seq:"tcgcgcgtttcggtgatgacggtgaaaacctctgacacatgcagctcccggagacggttgtctgtaagcggatgccgggagcagacaagcccgtcagggcagcgggtgttggcgggtgtcggggctggcttaactatgcggcatcagagcagattgtactgagagtgcaccatatgcggtgtgaaataccgcacagatgcgtaaggagaaaataccgcatcaggcgccattcgccattcaggctgcgcaactgttgggaagggcgatcggtgcgggcctcttcgctattacgccagctggcgaaagggggatgtgctgcaaggcgattaagttgggtaacgccagggttttcccagtcacgacgttgtaaaacgacggccagtgccaagcttgcatgcctgcaggtcgactctagaggatccccgggtaccgagctcgaattcgtaatcatggtcatagctgtttcctgtgtgaaattgttatccgctcacaattccacacaacatacgagccggaagcataaagtgtaaagcctggggtgcctaatgagtgagctaactcacattaattgcgttgcgctcactgcccgctttccagtcgggaaacctgtcgtgccagctgcattaatgaatcggccaacgcgcggggagaggcggtttgcgtattgggcgctcttccgcttcctcgctcactgactcgctgcgctcggtcgttcggctgcggcgagcggtatcagctcactcaaaggcggtaatacggttatccacagaatcaggggataacgcaggaaagaacatgtgagcaaaaggccagcaaaaggccaggaaccgtaaaaaggccgcgttgctggcgtttttccataggctccgcccccctgacgagcatcacaaaaatcgacgctcaagtcagaggtggcgaaacccgacaggactataaagataccaggcgtttccccctggaagctccctcgtgcgctctcctgttccgaccctgccgcttaccggatacctgtccgcctttctcccttcgggaagcgtggcgctttctcatagctcacgctgtaggtatctcagttcggtgtaggtcgttcgctccaagctgggctgtgtgcacgaaccccccgttcagcccgaccgctgcgccttatccggtaactatcgtcttgagtccaacccggtaagacacgacttatcgccactggcagcagccactggtaacaggattagcagagcgaggtatgtaggcggtgctacagagttcttgaagtggtggcctaactacggctacactagaaggacagtatttggtatctgcgctctgctgaagccagttaccttcggaaaaagagttggtagctcttgatccggcaaacaaaccaccgctggtagcggtggtttttttgtttgcaagcagcagattacgcgcagaaaaaaaggatctcaagaagatcctttgatcttttctacggggtctgacgctcagtggaacgaaaactcacgttaagggattttggtcatgagattatcaaaaaggatcttcacctagatccttttaaattaaaaatgaagttttaaatcaatctaaagtatatatgagtaaacttggtctgacagttaccaatgcttaatcagtgaggcacctatctcagcgatctgtctatttcgttcatccatagttgcctgactccccgtcgtgtagataactacgatacgggagggcttaccatctggccccagtgctgcaatgataccgcgagacccacgctcaccggctccagatttatcagcaataaaccagccagccggaagggccgagcgcagaagtggtcctgcaactttatccgcctccatccagtctattaattgttgccgggaagctagagtaagtagttcgccagttaatagtttgcgcaacgttgttgccattgctacaggcatcgtggtgtcacgctcgtcgtttggtatggcttcattcagctccggttcccaacgatcaaggcgagttacatgatcccccatgttgtgcaaaaaagcggttagctccttcggtcctccgatcgttgtcagaagtaagttggccgcagtgttatcactcatggttatggcagcactgcataattctcttactgtcatgccatccgtaagatgcttttctgtgactggtgagtactcaaccaagtcattctgagaatagtgtatgcggcgaccgagttgctcttgcccggcgtcaatacgggataataccgcgccacatagcagaactttaaaagtgctcatcattggaaaacgttcttcggggcgaaaactctcaaggatcttaccgctgttgagatccagttcgatgtaacccactcgtgcacccaactgatcttcagcatcttttactttcaccagcgtttctgggtgagcaaaaacaggaaggcaaaatgccgcaaaaaagggaataagggcgacacggaaatgttgaatactcatactcttcctttttcaatattattgaagcatttatcagggttattgtctcatgagcggatacatatttgaatgtatttagaaaaataaacaaataggggttccgcgcacatttccccgaaaagtgccacctgacgtctaagaaaccattattatcatgacattaacctataaaaataggcgtatcacgaggccctttcgtc",compSeq:"agcgcgcaaagccactactgccacttttggagactgtgtacgtcgagggcctctgccaacagacattcgcctacggccctcgtctgttcgggcagtcccgtcgcccacaaccgcccacagccccgaccgaattgatacgccgtagtctcgtctaacatgactctcacgtggtatacgccacactttatggcgtgtctacgcattcctcttttatggcgtagtccgcggtaagcggtaagtccgacgcgttgacaacccttcccgctagccacgcccggagaagcgataatgcggtcgaccgctttccccctacacgacgttccgctaattcaacccattgcggtcccaaaagggtcagtgctgcaacattttgctgccggtcacggttcgaacgtacggacgtccagctgagatctcctaggggcccatggctcgagcttaagcattagtaccagtatcgacaaaggacacactttaacaataggcgagtgttaaggtgtgttgtatgctcggccttcgtatttcacatttcggaccccacggattactcactcgattgagtgtaattaacgcaacgcgagtgacgggcgaaaggtcagccctttggacagcacggtcgacgtaattacttagccggttgcgcgcccctctccgccaaacgcataacccgcgagaaggcgaaggagcgagtgactgagcgacgcgagccagcaagccgacgccgctcgccatagtcgagtgagtttccgccattatgccaataggtgtcttagtcccctattgcgtcctttcttgtacactcgttttccggtcgttttccggtccttggcatttttccggcgcaacgaccgcaaaaaggtatccgaggcggggggactgctcgtagtgtttttagctgcgagttcagtctccaccgctttgggctgtcctgatatttctatggtccgcaaagggggaccttcgagggagcacgcgagaggacaaggctgggacggcgaatggcctatggacaggcggaaagagggaagcccttcgcaccgcgaaagagtatcgagtgcgacatccatagagtcaagccacatccagcaagcgaggttcgacccgacacacgtgcttggggggcaagtcgggctggcgacgcggaataggccattgatagcagaactcaggttgggccattctgtgctgaatagcggtgaccgtcgtcggtgaccattgtcctaatcgtctcgctccatacatccgccacgatgtctcaagaacttcaccaccggattgatgccgatgtgatcttcctgtcataaaccatagacgcgagacgacttcggtcaatggaagcctttttctcaaccatcgagaactaggccgtttgtttggtggcgaccatcgccaccaaaaaaacaaacgttcgtcgtctaatgcgcgtctttttttcctagagttcttctaggaaactagaaaagatgccccagactgcgagtcaccttgcttttgagtgcaattccctaaaaccagtactctaatagtttttcctagaagtggatctaggaaaatttaatttttacttcaaaatttagttagatttcatatatactcatttgaaccagactgtcaatggttacgaattagtcactccgtggatagagtcgctagacagataaagcaagtaggtatcaacggactgaggggcagcacatctattgatgctatgccctcccgaatggtagaccggggtcacgacgttactatggcgctctgggtgcgagtggccgaggtctaaatagtcgttatttggtcggtcggccttcccggctcgcgtcttcaccaggacgttgaaataggcggaggtaggtcagataattaacaacggcccttcgatctcattcatcaagcggtcaattatcaaacgcgttgcaacaacggtaacgatgtccgtagcaccacagtgcgagcagcaaaccataccgaagtaagtcgaggccaagggttgctagttccgctcaatgtactagggggtacaacacgttttttcgccaatcgaggaagccaggaggctagcaacagtcttcattcaaccggcgtcacaatagtgagtaccaataccgtcgtgacgtattaagagaatgacagtacggtaggcattctacgaaaagacactgaccactcatgagttggttcagtaagactcttatcacatacgccgctggctcaacgagaacgggccgcagttatgccctattatggcgcggtgtatcgtcttgaaattttcacgagtagtaaccttttgcaagaagccccgcttttgagagttcctagaatggcgacaactctaggtcaagctacattgggtgagcacgtgggttgactagaagtcgtagaaaatgaaagtggtcgcaaagacccactcgtttttgtccttccgttttacggcgttttttcccttattcccgctgtgcctttacaacttatgagtatgagaaggaaaaagttataataacttcgtaaatagtcccaataacagagtactcgcctatgtataaacttacataaatctttttatttgtttatccccaaggcgcgtgtaaaggggcttttcacggtggactgcagattctttggtaataatagtactgtaattggatatttttatccgcatagtgctccgggaaagcag",annotations:[{id:"lxcC1L3M4z",start:133,end:457,direction:-1,name:"lacZ fragment",color:"#8FDE8C",type:"CDS"},{id:"8DkP5cHpaE",start:386,end:443,direction:1,name:"MCS",color:"#CFF283",type:"misc_feature"},{id:"3fdyiQcona",start:476,end:493,direction:1,name:"lac operator",color:"#9DEAED",type:"protein_bind"},{id:"lsd_X-s5yM",start:500,end:531,direction:-1,name:"lac promoter",color:"#9DEAED",type:"promoter"},{id:"mnaEqs-lfH",start:854,end:1443,direction:-1,name:"ori",color:"#CFF283",type:"rep_origin"},{id:"7GHnMGoV2j",start:1613,end:2474,direction:-1,name:"bla",color:"#8FDE8C",type:"CDS"},{id:"fPLcYWJU1f",start:2474,end:2579,direction:-1,name:"bla",color:"#6B81FF",type:"promoter"}]};function fn(t,c){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);c&&(e=e.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),a.push.apply(a,e)}return a}function ln(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?fn(Object(a),!0).forEach((function(c){pn(t,c,a[c])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fn(Object(a)).forEach((function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))}))}return t}function pn(t,c,a){return c in t?Object.defineProperty(t,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[c]=a,t}var hn=function(t,c){var a=0<arguments.length&&void 0!==t?t:"root",e=1<arguments.length?c:void 0,n=!1,o=a.constructor.name.startsWith("HTML")&&a.constructor.name.endsWith("Element")?a:document.getElementById(a),u=r.a.createElement(un,e,null);return{render:function(){return n=!0,g.a.render(u,o),u},renderToString:function(){return i.a.renderToString(u)},setState:function(t){return Object.keys(t).forEach((function(t){Object.keys(e).includes(t)||console.error("Invalid viewer setting: ".concat(t))})),e=ln(ln({},e),t),u=r.a.createElement(un,e,null),n&&g.a.render(u,o),u}}}}],t.c=a,t.d=function(c,a,e){t.o(c,a)||Object.defineProperty(c,a,{enumerable:!0,get:e})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(c,a){if(1&a&&(c=t(c)),8&a)return c;if(4&a&&"object"==typeof c&&c&&c.__esModule)return c;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:c}),2&a&&"string"!=typeof c)for(var r in c)t.d(e,r,function(t){return c[t]}.bind(null,r));return e},t.n=function(c){var a=c&&c.__esModule?function(){return c.default}:function(){return c};return t.d(a,"a",a),a},t.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},t.p="/dist/",t(t.s=25);function t(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return c[e].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var c,a}));